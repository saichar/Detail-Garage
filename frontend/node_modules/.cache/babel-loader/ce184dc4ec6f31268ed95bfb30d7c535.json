{"ast":null,"code":"var _jsxFileName = \"/var/www/html/htdoc/detailgarage/frontend/src/components/user/user_review.js\";\nimport React, { Component } from 'react';\nimport { Environment } from '../../../src/components/environment';\nimport axios from 'axios';\nimport { If, Then, Else, Switch, Case } from 'react-if';\nimport Header from '../../../src/layouts/header';\nimport Alert from 'react-s-alert';\nimport Footer from '../../../src/layouts/footer';\nimport UserLeftMenu from '../../../src/layouts/user_left_menu';\nimport UserReview from '../../components/user/user_review';\n\nvar dateFormat = require('dateformat');\n\nclass OrderItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user_id_send: '',\n      orderItemList: [],\n      // orderId:'',\n      // rating : 0,\n      product_id: '',\n      item_id: ''\n    };\n    console.log(this.props.postdata);\n    const orderId = this.props.postdata;\n    var user_id_send = localStorage.getItem(\"user_id\") ? localStorage.getItem(\"user_id\") : \"\";\n    this.addRating = this.addRating.bind(this);\n    axios.post(Environment.apiurl + '/getUserOrderItemList', {\n      orderId: orderId,\n      user_id: user_id_send\n    }).then(result => {\n      console.log(result.data);\n\n      if (result) {\n        this.setState({\n          user_id_send: user_id_send\n        });\n        this.setState({\n          orderItemList: result.data.response\n        }); // this.setState({reviewlist: result.data.response.reviewlist});\n      }\n    });\n  }\n\n  addRating(param, param1) {\n    alert(param);\n    alert(param1);\n    this.setState({\n      rating: param1\n    });\n  }\n\n  submitReview(param, param1) {\n    var prorating = document.querySelector('input[name = rating' + param + ']:checked').value;\n    var proReview = document.getElementById('review' + param).value;\n    var proId = param1; // alert(prorating);\n    // alert(proReview);\n    // alert(param1);\n\n    var reviewDetails = {\n      \"rating\": prorating,\n      \"review\": proReview,\n      \"product_id\": proId,\n      \"user_id\": this.state.user_id_send\n    };\n    axios.post(Environment.apiurl + \"/addProductReview\", reviewDetails).then(result => {\n      if (result.data.status == \"success\") {\n        Alert.success(result.data.message, {\n          position: 'bottom-right',\n          timeout: 1000\n        });\n        var reviewArea = document.getElementById(\"wReview\" + param);\n        reviewArea.style.display = \"none\";\n      } else {\n        Alert.error(result.data.message, {\n          position: 'bottom-right',\n          timeout: 1000\n        });\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, this.state.orderItemList.length > 0, this.state.orderItemList.map((item, index) => React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Overall Rating\"), React.createElement(\"div\", {\n      class: \"reviewIn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"starrating risingstar d-flex text-left flex-row-reverse\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"star5_\" + item.itemId,\n      name: \"rating\" + item.itemId,\n      value: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"star5_\" + item.itemId,\n      title: \"5 star\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"star4_\" + item.itemId,\n      name: \"rating\" + item.itemId,\n      value: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"star4_\" + item.itemId,\n      title: \"4 star\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"star3_\" + item.itemId,\n      name: \"rating\" + item.itemId,\n      value: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"star3_\" + item.itemId,\n      title: \"3 star\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"star2_\" + item.itemId,\n      name: \"rating\" + item.itemId,\n      value: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"star2_\" + item.itemId,\n      title: \"2 star\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"star1_\" + item.itemId,\n      name: \"rating\" + item.itemId,\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"star1_\" + item.itemId,\n      title: \"1 star\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Write your review\"), React.createElement(\"textarea\", {\n      placeholder: \"Write your review\",\n      name: \"review\",\n      id: \"review\" + item.itemId,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: e => this.submitReview(item.itemId, item.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Submit\"))));\n  }\n\n}\n\nexport default OrderItem;","map":{"version":3,"sources":["/var/www/html/htdoc/detailgarage/frontend/src/components/user/user_review.js"],"names":["React","Component","Environment","axios","If","Then","Else","Switch","Case","Header","Alert","Footer","UserLeftMenu","UserReview","dateFormat","require","OrderItem","constructor","props","state","user_id_send","orderItemList","product_id","item_id","console","log","postdata","orderId","localStorage","getItem","addRating","bind","post","apiurl","user_id","then","result","data","setState","response","param","param1","alert","rating","submitReview","prorating","document","querySelector","value","proReview","getElementById","proId","reviewDetails","status","success","message","position","timeout","reviewArea","style","display","error","render","length","map","item","index","itemId","e","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Environment } from '../../../src/components/environment';\nimport axios from 'axios';\nimport { If, Then, Else, Switch, Case} from 'react-if';\nimport Header from '../../../src/layouts/header';\nimport Alert from 'react-s-alert';\nimport Footer from '../../../src/layouts/footer';\nimport UserLeftMenu from '../../../src/layouts/user_left_menu';\nimport UserReview from '../../components/user/user_review';\nvar dateFormat = require('dateformat');\n\nclass OrderItem extends Component{\n    constructor (props) {\n        super(props);\n        this.state = {\n            user_id_send :'',\n            orderItemList: [],\n            // orderId:'',\n            // rating : 0,\n            product_id:'',\n            item_id:''\n\n        }\n        console.log(this.props.postdata);\n        const orderId=this.props.postdata;\n        var user_id_send = localStorage.getItem(\"user_id\")?localStorage.getItem(\"user_id\"):\"\";\n        this.addRating = this.addRating.bind(this);\n\n        axios.post(Environment.apiurl+'/getUserOrderItemList', {orderId:orderId, user_id:user_id_send})\n        .then(result => {\n            console.log(result.data);\n            if(result){\n                this.setState({user_id_send:user_id_send});\n                this.setState({orderItemList: result.data.response});\n                // this.setState({reviewlist: result.data.response.reviewlist});\n            }\n        });\n\n    }\n\n    addRating(param, param1){\n        alert(param);\n        alert(param1)\n        this.setState({ rating: param1 });\n        \n    }\n\n\n    submitReview(param, param1){\n        var prorating = document.querySelector('input[name = rating'+param+']:checked').value;\n        var proReview = document.getElementById('review'+param).value;\n        var proId = param1;\n        // alert(prorating);\n        // alert(proReview);\n        // alert(param1);\n\n        var reviewDetails =\n        {\n            \"rating\":prorating,\n            \"review\":proReview,\n            \"product_id\":proId,\n            \"user_id\":this.state.user_id_send,\n        };\n        axios.post(Environment.apiurl+\"/addProductReview\", reviewDetails).then(result => {\n            if(result.data.status==\"success\"){\n                Alert.success(result.data.message, {\n                    position: 'bottom-right',\n                    timeout: 1000\n                });\n                var reviewArea = document.getElementById(\"wReview\"+param);\n                reviewArea.style.display = \"none\";\n            } else {\n                Alert.error(result.data.message, {\n                    position: 'bottom-right',\n                    timeout: 1000\n                });\n            }\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                \n                {this.state.orderItemList.length>0}\n                {this.state.orderItemList.map( (item, index) =>\n                <div class=\"form-group\">\n                <h4>Overall Rating</h4>\n                <div class=\"reviewIn\">\n                    <div class=\"starrating risingstar d-flex text-left flex-row-reverse\">\n                        <input type=\"radio\" id={\"star5_\"+item.itemId} name={\"rating\"+item.itemId} value=\"5\" />\n                        <label for={\"star5_\"+item.itemId} title=\"5 star\"></label>\n                        <input type=\"radio\" id={\"star4_\"+item.itemId} name={\"rating\"+item.itemId} value=\"4\" />\n                        <label for={\"star4_\"+item.itemId} title=\"4 star\"></label>\n                        <input type=\"radio\" id={\"star3_\"+item.itemId} name={\"rating\"+item.itemId} value=\"3\" />\n                        <label for={\"star3_\"+item.itemId} title=\"3 star\"></label>\n                        <input type=\"radio\" id={\"star2_\"+item.itemId} name={\"rating\"+item.itemId} value=\"2\" />\n                        <label for={\"star2_\"+item.itemId} title=\"2 star\"></label>\n                        <input type=\"radio\" id={\"star1_\"+item.itemId} name={\"rating\"+item.itemId} value=\"1\" />\n                        <label for={\"star1_\"+item.itemId} title=\"1 star\"></label>\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <h4>Write your review</h4>\n                    <textarea placeholder=\"Write your review\" name=\"review\" id={\"review\"+item.itemId}></textarea>\n                </div>\n                <button type=\"button\" onClick={(e) => this.submitReview(item.itemId, item.id)}>Submit</button>\n                </div>\n                )}\n\n            </div>\n        )\n    }    \n\n}\n\nexport default OrderItem;"]},"metadata":{},"sourceType":"module"}