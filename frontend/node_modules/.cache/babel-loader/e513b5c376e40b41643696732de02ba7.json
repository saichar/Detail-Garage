{"ast":null,"code":"var _jsxFileName = \"/var/www/html/htdoc/detailgarage/frontend/src/components/user/order_item.js\";\nimport React, { Component } from 'react';\nimport { Environment } from '../../../src/components/environment';\nimport axios from 'axios';\nimport { If, Then, Else, Switch, Case } from 'react-if';\nimport Header from '../../../src/layouts/header';\nimport Alert from 'react-s-alert';\nimport Footer from '../../../src/layouts/footer';\nimport UserLeftMenu from '../../../src/layouts/user_left_menu'; // import UserReview from '../../components/user/user_review';\n\nvar dateFormat = require('dateformat');\n\nclass OrderItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user_id_send: '',\n      orderItemList: [],\n      orderId: '',\n      rating: 0 // reviewlist:[],\n      // itemlist:[],\n\n    };\n    const orderId = this.props.postdata;\n    var user_id_send = localStorage.getItem(\"user_id\") ? localStorage.getItem(\"user_id\") : \"\";\n    this.addRating = this.addRating.bind(this);\n    axios.post(Environment.apiurl + '/getUserOrderItemList', {\n      orderId: orderId,\n      user_id: user_id_send\n    }).then(result => {\n      console.log(result.data);\n\n      if (result) {\n        this.setState({\n          user_id_send: user_id_send\n        });\n        this.setState({\n          orderItemList: result.data.response\n        }); // this.setState({reviewlist: result.data.response.reviewlist});\n      }\n    });\n  }\n\n  addRating(param, param1) {\n    alert(param);\n    alert(param1);\n    this.setState({\n      rating: param1\n    });\n  }\n\n  submitReview(param, param1) {\n    var prorating = document.querySelector('input[name = rating' + param + ']:checked').value;\n    var proReview = document.getElementById('review' + param).value;\n    var proId = param1; // alert(prorating);\n    // alert(proReview);\n    // alert(param1);\n\n    var reviewDetails = {\n      \"rating\": prorating,\n      \"review\": proReview,\n      \"product_id\": proId,\n      \"user_id\": this.state.user_id_send\n    };\n    axios.post(Environment.apiurl + \"/addProductReview\", reviewDetails).then(result => {\n      if (result.data.status == \"success\") {\n        Alert.success(result.data.message, {\n          position: 'bottom-right',\n          timeout: 1000\n        });\n        var reviewArea = document.getElementById(\"wReview\" + param);\n        reviewArea.style.display = \"none\";\n      } else {\n        Alert.error(result.data.message, {\n          position: 'bottom-right',\n          timeout: 1000\n        });\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, this.state.orderItemList.length > 0, this.state.orderItemList.map((item, index) => React.createElement(\"div\", {\n      class: \"orderTable\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"table-responsive\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: Environment.weburl + '/product/details/' + item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: Environment.apiurl + '/products/' + item.image,\n      class: \"img-fluid\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }))), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, item.product_name)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"$\", item.amount.toFixed(2)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Arriving Soon \", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, dateFormat(item.addedOn, \"mmmm dS' yy\"))), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      \"data-toggle\": \"collapse\",\n      \"data-target\": \"#wReview\" + item.itemId,\n      class: \"writeReview\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Write a review\"))), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      colspan: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"wReview\" + item.itemId,\n      class: \"collapse reviewToggle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"reviewIn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Overall Rating\"), React.createElement(\"div\", {\n      class: \"starrating risingstar d-flex text-left flex-row-reverse\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"star5_\" + item.itemId,\n      name: \"rating\" + item.itemId,\n      value: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"star5_\" + item.itemId,\n      title: \"5 star\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"star4_\" + item.itemId,\n      name: \"rating\" + item.itemId,\n      value: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"star4_\" + item.itemId,\n      title: \"4 star\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"star3_\" + item.itemId,\n      name: \"rating\" + item.itemId,\n      value: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"star3_\" + item.itemId,\n      title: \"3 star\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"star2_\" + item.itemId,\n      name: \"rating\" + item.itemId,\n      value: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"star2_\" + item.itemId,\n      title: \"2 star\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"star1_\" + item.itemId,\n      name: \"rating\" + item.itemId,\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"star1_\" + item.itemId,\n      title: \"1 star\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Write your review\"), React.createElement(\"textarea\", {\n      placeholder: \"Write your review\",\n      name: \"review\",\n      id: \"review\" + item.itemId,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: e => this.submitReview(item.itemId, item.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Submit\"))))))))));\n  }\n\n}\n\nexport default OrderItem;","map":{"version":3,"sources":["/var/www/html/htdoc/detailgarage/frontend/src/components/user/order_item.js"],"names":["React","Component","Environment","axios","If","Then","Else","Switch","Case","Header","Alert","Footer","UserLeftMenu","dateFormat","require","OrderItem","constructor","props","state","user_id_send","orderItemList","orderId","rating","postdata","localStorage","getItem","addRating","bind","post","apiurl","user_id","then","result","console","log","data","setState","response","param","param1","alert","submitReview","prorating","document","querySelector","value","proReview","getElementById","proId","reviewDetails","status","success","message","position","timeout","reviewArea","style","display","error","render","length","map","item","index","weburl","id","image","product_name","amount","toFixed","addedOn","itemId","e"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Environment } from '../../../src/components/environment';\nimport axios from 'axios';\nimport { If, Then, Else, Switch, Case} from 'react-if';\nimport Header from '../../../src/layouts/header';\nimport Alert from 'react-s-alert';\nimport Footer from '../../../src/layouts/footer';\nimport UserLeftMenu from '../../../src/layouts/user_left_menu';\n// import UserReview from '../../components/user/user_review';\nvar dateFormat = require('dateformat');\n\nclass OrderItem extends Component{\n    constructor (props) {\n        super(props);\n        this.state = {\n            user_id_send :'',\n            orderItemList: [],\n            orderId:'',\n            rating : 0,\n            // reviewlist:[],\n            // itemlist:[],\n\n        }\n        const orderId=this.props.postdata;\n        var user_id_send = localStorage.getItem(\"user_id\")?localStorage.getItem(\"user_id\"):\"\";\n        this.addRating = this.addRating.bind(this);\n\n        axios.post(Environment.apiurl+'/getUserOrderItemList', {orderId:orderId, user_id:user_id_send})\n        .then(result => {\n            console.log(result.data);\n            if(result){\n                this.setState({user_id_send:user_id_send});\n                this.setState({orderItemList: result.data.response});\n                // this.setState({reviewlist: result.data.response.reviewlist});\n            }\n        });\n\n    }\n\n    addRating(param, param1){\n        alert(param);\n        alert(param1)\n        this.setState({ rating: param1 });\n        \n    }\n\n\n    submitReview(param, param1){\n        var prorating = document.querySelector('input[name = rating'+param+']:checked').value;\n        var proReview = document.getElementById('review'+param).value;\n        var proId = param1;\n        // alert(prorating);\n        // alert(proReview);\n        // alert(param1);\n\n        var reviewDetails =\n        {\n            \"rating\":prorating,\n            \"review\":proReview,\n            \"product_id\":proId,\n            \"user_id\":this.state.user_id_send,\n        };\n        axios.post(Environment.apiurl+\"/addProductReview\", reviewDetails).then(result => {\n            if(result.data.status==\"success\"){\n                Alert.success(result.data.message, {\n                    position: 'bottom-right',\n                    timeout: 1000\n                });\n                var reviewArea = document.getElementById(\"wReview\"+param);\n                reviewArea.style.display = \"none\";\n            } else {\n                Alert.error(result.data.message, {\n                    position: 'bottom-right',\n                    timeout: 1000\n                });\n            }\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                {this.state.orderItemList.length>0}\n                {this.state.orderItemList.map( (item, index) =>\n                <div class=\"orderTable\">\n                    <div class=\"table-responsive\">\n                        <table>\n                        <tr>\n                            <td><a href={Environment.weburl+'/product/details/'+item.id}><img src={Environment.apiurl+'/products/'+item.image} class=\"img-fluid\" alt=\"\" /></a></td>\n                            <td><a href=\"\">{item.product_name}</a></td>\n                            <td>${item.amount.toFixed(2)}</td>\n                            <td>Arriving Soon <span>{dateFormat(item.addedOn, \"mmmm dS' yy\")}</span></td>\n                            <td><a data-toggle=\"collapse\" data-target={\"#wReview\"+item.itemId} class=\"writeReview\">Write a review</a></td>\n                        </tr>\n\n                        <tr>\n                            <td colspan=\"5\"><div id={\"wReview\"+item.itemId} class=\"collapse reviewToggle\">\n                                <div class=\"reviewIn\">\n\n                                    {/* <UserReview postdata={(item.itemId, item.id)}/> */}\n                                    <div class=\"form-group\">\n                                        <h4>Overall Rating</h4>\n                                        <div class=\"starrating risingstar d-flex text-left flex-row-reverse\">\n                                            <input type=\"radio\" id={\"star5_\"+item.itemId} name={\"rating\"+item.itemId} value=\"5\" />\n                                            <label for={\"star5_\"+item.itemId} title=\"5 star\"></label>\n                                            <input type=\"radio\" id={\"star4_\"+item.itemId} name={\"rating\"+item.itemId} value=\"4\" />\n                                            <label for={\"star4_\"+item.itemId} title=\"4 star\"></label>\n                                            <input type=\"radio\" id={\"star3_\"+item.itemId} name={\"rating\"+item.itemId} value=\"3\" />\n                                            <label for={\"star3_\"+item.itemId} title=\"3 star\"></label>\n                                            <input type=\"radio\" id={\"star2_\"+item.itemId} name={\"rating\"+item.itemId} value=\"2\" />\n                                            <label for={\"star2_\"+item.itemId} title=\"2 star\"></label>\n                                            <input type=\"radio\" id={\"star1_\"+item.itemId} name={\"rating\"+item.itemId} value=\"1\" />\n                                            <label for={\"star1_\"+item.itemId} title=\"1 star\"></label>\n                                        </div>\n                                    </div>\n                                    <div class=\"form-group\">\n                                        <h4>Write your review</h4>\n                                        <textarea placeholder=\"Write your review\" name=\"review\" id={\"review\"+item.itemId}></textarea>\n                                    </div>\n                                    <button type=\"button\" onClick={(e) => this.submitReview(item.itemId, item.id)}>Submit</button>\n                                    </div>\n\n                                </div>\n                            </td>\n                        </tr>\n                        </table>\n                    </div>\n                </div>\n                )}\n            </div>\n        )\n    }    \n\n}\n\nexport default OrderItem;"]},"metadata":{},"sourceType":"module"}