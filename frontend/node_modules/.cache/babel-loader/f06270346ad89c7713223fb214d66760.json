{"ast":null,"code":"var _jsxFileName = \"/var/www/html/htdoc/detailgarage/frontend/src/components/user/cart.js\";\nimport React, { Component } from 'react';\nimport { Environment } from '../../../src/components/environment';\nimport axios from 'axios';\nimport { If, Then, Else, Switch, Case } from 'react-if';\nimport Header from '../../../src/layouts/header';\nimport Footer from '../../../src/layouts/footer';\nimport Alert from 'react-s-alert';\nimport ShippingList from '../../components/user/shipping_list';\nimport StoreAddress from '../../components/user/store_address';\nimport CheckoutForm from '../../components/user/stripe-checkout';\nimport { Elements, StripeProvider } from 'react-stripe-elements'; // import StripeCheckout from 'react-stripe-checkout';\n\nimport { constants } from 'crypto';\n\nclass Cart extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleLanguage = stripeRes => {\n      // console.log(stripeRes.data.payment_method);\n      this.setState({\n        stripeResponse: stripeRes\n      });\n      this.setState({\n        stripeStatus: stripeRes.data.status\n      });\n      this.setState({\n        stripeTxnId: stripeRes.data.balance_transaction\n      });\n      this.setState({\n        stripeId: stripeRes.data.id\n      });\n\n      if (this.state.stripeStatus == \"succeeded\") {\n        var deliveryTypeval = document.querySelector('input[name = \"radio1\"]:checked').value;\n\n        if (deliveryTypeval == 'self') {\n          var address_id = '';\n          var shipping_amount = 0;\n          var proAmt = document.getElementById('subTotalAmount').innerHTML;\n          var subTot = document.getElementById('subFinalAmount').innerHTML;\n          var checkoutDetails = {\n            \"stripeTxnId\": this.state.stripeTxnId,\n            \"stripeId\": this.state.stripeId,\n            \"shipping_amount\": shipping_amount,\n            \"amount\": proAmt,\n            \"total_amount\": subTot,\n            \"shipping_type\": deliveryTypeval,\n            \"address_id\": address_id,\n            \"user_id\": this.state.user_id_send,\n            \"useremail\": this.state.useremail,\n            \"username\": this.state.username // \"catproducts\":this.state.cartlistProduct\n\n          };\n          axios.post(Environment.apiurl + \"/productCheckout\", checkoutDetails).then(result => {\n            if (result.data.status == \"success\") {\n              // alert(result.data.status);\n              localStorage.setItem(\"sucessMsg\", result.data.message);\n              window.location.href = Environment.weburl + '/user/confirm-order';\n            } else {\n              Alert.error(result.data.message, {\n                position: 'bottom-right',\n                timeout: 1000\n              });\n            }\n          });\n        }\n\n        if (deliveryTypeval == 'delivery') {\n          var addressLength = document.getElementById('addressLength').value;\n\n          if (addressLength > 0) {\n            var shipping_amount = this.state.standeredDelivery;\n            var address_id = document.querySelector('input[name = \"radio2\"]:checked').value;\n            var proAmt = document.getElementById('subTotalAmount').innerHTML;\n            var subTot = document.getElementById('subFinalAmount').innerHTML;\n            var checkoutDetails = {\n              \"stripeTxnId\": this.state.stripeTxnId,\n              \"stripeId\": this.state.stripeId,\n              \"shipping_amount\": shipping_amount,\n              \"amount\": proAmt,\n              \"total_amount\": subTot,\n              \"shipping_type\": deliveryTypeval,\n              \"address_id\": address_id,\n              \"user_id\": this.state.user_id_send,\n              \"useremail\": this.state.useremail,\n              \"username\": this.state.username // \"catproducts\":this.state.cartlistProduct\n\n            };\n            axios.post(Environment.apiurl + \"/productCheckout\", checkoutDetails).then(result => {\n              if (result.data.status == \"success\") {\n                // alert(result.data.status);\n                localStorage.setItem(\"sucessMsg\", result.data.message);\n                window.location.href = Environment.weburl + '/user/confirm-order';\n              } else {\n                Alert.error(result.data.message, {\n                  position: 'bottom-right',\n                  timeout: 1000\n                });\n              }\n            });\n          } else {\n            Alert.error('Add your delivery address!', {\n              position: 'bottom-right',\n              timeout: 2000\n            });\n          }\n        }\n      } else {\n        Alert.error('Something went wrong', {\n          position: 'bottom-right',\n          timeout: 2000\n        });\n      }\n    };\n\n    this.state = {\n      user_id_send: '',\n      useremail: localStorage.getItem(\"email\") ? localStorage.getItem(\"email\") : \"\",\n      username: localStorage.getItem(\"first_name\") ? localStorage.getItem(\"first_name\") : \"\",\n      cartlistProduct: [],\n      addresslist: [],\n      deliveryAmount: [],\n      quantity: 0,\n      cartTotalQuantity: 0,\n      cartQuantity: 0,\n      cartTotalAmount: 0,\n      subTotalAmount: 0,\n      totalamount: 0,\n      subFinalAmount: 0,\n      standeredDelivery: 0,\n      langValue: '',\n      stripeRes: ''\n    };\n    var user_id_send = localStorage.getItem(\"user_id\") ? localStorage.getItem(\"user_id\") : \"\";\n    this.addQuantity = this.addQuantity.bind(this);\n    this.removeQuantity = this.removeQuantity.bind(this);\n    this.getUserCartdetails = this.getUserCartdetails.bind(this);\n    this.handleLanguage = this.handleLanguage.bind(this);\n    axios.post(Environment.apiurl + '/getUserCartlistProduct', {\n      user_id: user_id_send\n    }).then(result => {\n      if (result) {\n        if (result.data.response.cartlistProduct.length > 0) {\n          this.getUserCartdetails(); // this.setState({ subTotalAmount: result.data.response[0].cartTotalAmount?result.data.response[0].cartTotalAmount:0 });\n          // this.setState({ subFinalAmount: result.data.response[0].cartTotalAmount });\n          // this.setState({cartlistProduct: result.data.response});\n\n          this.setState({\n            subTotalAmount: result.data.response.cartlistProduct[0].cartTotalAmount ? result.data.response.cartlistProduct[0].cartTotalAmount : 0\n          });\n          this.setState({\n            subFinalAmount: result.data.response.cartlistProduct[0].cartTotalAmount\n          });\n          this.setState({\n            \"totalamount\": result.data.response.cartlistProduct[0].cartTotalAmount\n          });\n          this.setState({\n            cartlistProduct: result.data.response.cartlistProduct\n          });\n          this.setState({\n            deliveryAmount: result.data.response.deliveryAmount\n          });\n          this.setState({\n            standeredDelivery: result.data.response.deliveryAmount[0].value ? result.data.response.deliveryAmount[0].value : 0\n          });\n          this.setState({\n            user_id_send: user_id_send\n          });\n        } else {//this.setState({ subTotalAmount: 0 });\n          //this.setState({ subFinalAmount: 0 });\n        }\n      }\n    });\n  }\n\n  addQuantity(e) {\n    var qnt = document.getElementById('quantity_' + e).value;\n    var newQuantity = parseInt(qnt) + 1;\n    var itmPrice = document.getElementById('proPrice_' + e).value;\n    var updateCartItem = {\n      \"id\": e,\n      \"user_id\": this.state.user_id_send,\n      \"quantity\": newQuantity,\n      \"price\": itmPrice,\n      \"type\": 'add'\n    };\n    axios.post(Environment.apiurl + \"/updateCartQuantity\", updateCartItem).then(result => {\n      if (result) {\n        // console.log(result.data.response[0].quantity);\n        // console.log(result.data.response[0].total_amount);\n        if (result.data.status == \"success\") {\n          this.getUserCartdetails();\n          Alert.success(result.data.message, {\n            position: 'bottom-right',\n            timeout: 1000\n          });\n          document.getElementById('quantity_' + e).value = result.data.response[0].quantity;\n          document.getElementById('proToatlPrice_' + e).innerHTML = result.data.response[0].total_amount.toFixed(2);\n        } else {\n          Alert.error(result.data.message, {\n            position: 'bottom-right',\n            timeout: 1000\n          });\n        }\n      }\n    });\n  }\n\n  updateSubTotal(param) {\n    // alert(param);\n    var radioVal = param;\n    var subTot = document.getElementById('subTotalAmount').innerHTML;\n\n    if (radioVal == 'self') {\n      document.getElementById(\"shipping_address\").style.display = \"none\";\n      document.getElementById(\"store_address\").style.display = \"block\";\n      document.getElementById('subFinalAmount').innerHTML = parseInt(subTot).toFixed(2);\n      this.setState({\n        \"totalamount\": parseInt(subTot).toFixed(2)\n      });\n    }\n\n    if (radioVal == 'delivery') {\n      document.getElementById(\"shipping_address\").style.display = \"block\";\n      document.getElementById(\"store_address\").style.display = \"none\";\n      var standeredDelivery = this.state.standeredDelivery;\n      var totValAmt = parseInt(subTot) + parseInt(standeredDelivery);\n      document.getElementById('subFinalAmount').innerHTML = totValAmt.toFixed(2);\n      this.setState({\n        \"totalamount\": totValAmt.toFixed(2)\n      });\n    }\n  }\n\n  closePaymentModel(id) {\n    var modal = document.getElementById(id);\n    modal.style.display = \"none\";\n  }\n\n  productCheckout() {\n    var deliveryType = document.querySelector('input[name = \"radio1\"]:checked');\n\n    if (deliveryType) {\n      var deliveryTypeval = document.querySelector('input[name = \"radio1\"]:checked').value; // STRIPE PAYMENT HERE START\n      // console.log(this.state.stripeStatus);\n\n      var modal = document.getElementById(\"paymentModal\");\n      modal.style.display = \"block\";\n      return false; // STRIPE PAYMENT HERE END\n      // if(deliveryTypeval == 'self'){\n      //     var address_id = '';\n      //     var shipping_amount = 0;\n      //     var proAmt = document.getElementById('subTotalAmount').innerHTML;\n      //     var subTot = document.getElementById('subFinalAmount').innerHTML;\n      //     var checkoutDetails =\n      //     {\n      //         \"shipping_amount\":shipping_amount,\n      //         \"amount\":proAmt,\n      //         \"total_amount\":subTot,\n      //         \"shipping_type\":deliveryTypeval,\n      //         \"address_id\":address_id,\n      //         \"user_id\":this.state.user_id_send,\n      //         \"useremail\":this.state.useremail,\n      //         \"username\":this.state.username\n      //     // \"catproducts\":this.state.cartlistProduct\n      //     };\n      //     axios.post(Environment.apiurl+\"/productCheckout\", checkoutDetails).then(result => {\n      //         if(result.data.status==\"success\"){\n      //             // alert(result.data.status);\n      //             localStorage.setItem(\"sucessMsg\", result.data.message);\n      //                 window.location.href = Environment.weburl+'/user/confirm-order';\n      //         } else {\n      //             Alert.error(result.data.message, {\n      //                 position: 'bottom-right',\n      //                 timeout: 1000\n      //             });\n      //         }\n      //     });\n      // }\n      // if(deliveryTypeval == 'delivery'){\n      //     var addressLength = document.getElementById('addressLength').value;\n      //     if(addressLength > 0){\n      //         var shipping_amount = this.state.standeredDelivery;\n      //         var address_id = document.querySelector('input[name = \"radio2\"]:checked').value;\n      //         var proAmt = document.getElementById('subTotalAmount').innerHTML;\n      //         var subTot = document.getElementById('subFinalAmount').innerHTML;\n      //         var checkoutDetails =\n      //         {\n      //             \"shipping_amount\":shipping_amount,\n      //             \"amount\":proAmt,\n      //             \"total_amount\":subTot,\n      //             \"shipping_type\":deliveryTypeval,\n      //             \"address_id\":address_id,\n      //             \"user_id\":this.state.user_id_send,\n      //             \"useremail\":this.state.useremail,\n      //             \"username\":this.state.username\n      //         // \"catproducts\":this.state.cartlistProduct\n      //         };\n      //         axios.post(Environment.apiurl+\"/productCheckout\", checkoutDetails).then(result => {\n      //             if(result.data.status==\"success\"){\n      //                 // alert(result.data.status);\n      //                 localStorage.setItem(\"sucessMsg\", result.data.message);\n      //                     window.location.href = Environment.weburl+'/user/confirm-order';\n      //             } else {\n      //                 Alert.error(result.data.message, {\n      //                     position: 'bottom-right',\n      //                     timeout: 1000\n      //                 });\n      //             }\n      //         });\n      //     } else {\n      //         Alert.error('Add your delivery address!', {\n      //             position: 'bottom-right',\n      //             timeout: 2000\n      //         });\n      //     }                \n      // }\n    } else {\n      Alert.error('Please select your shipping type!', {\n        position: 'bottom-right',\n        timeout: 2000\n      });\n    }\n  }\n\n  removeQuantity(e) {\n    var qnt = document.getElementById('quantity_' + e).value;\n\n    if (qnt > 1) {\n      var qnt = document.getElementById('quantity_' + e).value;\n      var newQuantity = parseInt(qnt) - 1;\n      var itmPrice = document.getElementById('proPrice_' + e).value;\n      var updateCartItem = {\n        \"id\": e,\n        \"user_id\": this.state.user_id_send,\n        \"quantity\": newQuantity,\n        \"price\": itmPrice,\n        \"type\": 'add'\n      };\n      axios.post(Environment.apiurl + \"/updateCartQuantity\", updateCartItem).then(result => {\n        if (result) {\n          // console.log(result.data.response[0].quantity);\n          // console.log(result.data.response[0].total_amount);\n          if (result.data.status == \"success\") {\n            this.getUserCartdetails();\n            Alert.success(result.data.message, {\n              position: 'bottom-right',\n              timeout: 1000\n            });\n            document.getElementById('quantity_' + e).value = result.data.response[0].quantity;\n            document.getElementById('proToatlPrice_' + e).innerHTML = result.data.response[0].total_amount.toFixed(2);\n          } else {\n            Alert.error(result.data.message, {\n              position: 'bottom-right',\n              timeout: 1000\n            });\n          }\n        }\n      });\n    }\n  }\n\n  getUserCartdetails() {\n    axios.post(Environment.apiurl + '/getUserCartProDetails', {\n      user_id: localStorage.getItem(\"user_id\")\n    }).then(result => {\n      // console.log(result);\n      // console.log(result.data.response[0].cartTotalAmount);\n      // console.log(result.data.response[0].cartTotalAmount);\n      // console.log(result.data.response[0].cartQuantity);\n      if (result) {\n        document.getElementById('subTotalAmount').innerHTML = result.data.response[0].cartTotalAmount.toFixed(2);\n        document.getElementById('subFinalAmount').innerHTML = result.data.response[0].cartTotalAmount.toFixed(2);\n        document.getElementById('cartcount').innerHTML = result.data.response[0].cartQuantity;\n        document.getElementById('cartTotalAmount').innerHTML = result.data.response[0].cartTotalAmount.toFixed(2);\n      }\n    });\n  }\n\n  deleteCartlistItem(param) {\n    var wishlistItem = {\n      \"id\": param,\n      \"user_id\": this.state.user_id_send\n    };\n    axios.post(Environment.apiurl + \"/deleteCartlistItem\", wishlistItem).then(result => {\n      if (result.data.status == \"success\") {\n        this.getUserCartdetails();\n        document.getElementById(\"cart_\" + param).remove();\n        this.setState({\n          sucessMsg: result.data.message\n        });\n        localStorage.setItem(\"sucessMsg\", result.data.message);\n      } else if (result.data.status == \"deleted\") {\n        this.getUserCartdetails();\n        document.getElementById(\"cart_\" + param).remove();\n        this.setState({\n          sucessMsg: result.data.message\n        });\n        localStorage.setItem(\"sucessMsg\", result.data.message);\n        setTimeout(function () {\n          window.location.reload(1);\n        }, 1000);\n      } else {\n        this.setState({\n          sucessMsg3: result.data.message\n        });\n        localStorage.setItem(\"sucessMsg\", result.data.message);\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404\n      },\n      __self: this\n    }), React.createElement(\"section\", {\n      class: \"cartPage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409\n      },\n      __self: this\n    }, \"Cart\"), React.createElement(\"ul\", {\n      class: \"breadcrumb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411\n      },\n      __self: this\n    }, \"Home\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412\n      },\n      __self: this\n    }, \"Cart\"))), React.createElement(\"div\", {\n      class: \"col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416\n      },\n      __self: this\n    }, React.createElement(If, {\n      condition: this.state.sucessMsg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417\n      },\n      __self: this\n    }, React.createElement(Then, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"alert alert-success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419\n      },\n      __self: this\n    }, this.state.sucessMsg))), React.createElement(If, {\n      condition: this.state.errorMsg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423\n      },\n      __self: this\n    }, React.createElement(Then, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425\n      },\n      __self: this\n    }, this.state.errorMsg))), React.createElement(If, {\n      condition: this.state.cartlistProduct.length > 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429\n      },\n      __self: this\n    }, React.createElement(Then, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"table-responsive\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      class: \"table crTable\",\n      id: \"cartItems\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435\n      },\n      __self: this\n    }, \"Product\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 436\n      },\n      __self: this\n    }, \"Price\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 437\n      },\n      __self: this\n    }, \"Quantity\"), React.createElement(\"th\", {\n      colspan: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438\n      },\n      __self: this\n    }, \"Total\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441\n      },\n      __self: this\n    }, this.state.cartlistProduct.length > 0, this.state.cartlistProduct.map((item, index) => React.createElement(\"tr\", {\n      id: 'cart_' + item.cart_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"hidden\",\n      name: \"proPrice\",\n      id: 'proPrice_' + item.cart_id,\n      value: item.price,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 446\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      \"data-label\": \"Product\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448\n      },\n      __self: this\n    }, React.createElement(\"figure\", {\n      class: \"prodImg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: Environment.apiurl + '/products/' + item.image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448\n      },\n      __self: this\n    })), \" \", React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448\n      },\n      __self: this\n    }, item.product_name)), React.createElement(\"td\", {\n      \"data-label\": \"Price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449\n      },\n      __self: this\n    }, \"$\", item.price.toFixed(2)), React.createElement(\"td\", {\n      \"data-label\": \"Quantity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"plusMinus prodCount\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      id: \"myform\",\n      method: \"POST\",\n      action: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"button\",\n      value: \"-\",\n      class: \"numb\",\n      field: \"quantity\",\n      onClick: e => this.removeQuantity(item.cart_id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"quantity\",\n      id: 'quantity_' + item.cart_id,\n      value: item.cartTotalQuantity,\n      class: \"qty numb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"button\",\n      value: \"+\",\n      class: \"numb\",\n      field: \"quantity\",\n      onClick: e => this.addQuantity(item.cart_id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457\n      },\n      __self: this\n    })))), React.createElement(\"td\", {\n      \"data-label\": \"Total\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461\n      },\n      __self: this\n    }, \" $\", React.createElement(\"span\", {\n      id: 'proToatlPrice_' + item.cart_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461\n      },\n      __self: this\n    }, item.total_amount.toFixed(2))), React.createElement(\"td\", {\n      class: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"javascript:void(0);\",\n      onClick: e => window.confirm(\"Are you sure you wish to delete this item?\") && this.deleteCartlistItem(item.cart_id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: Environment.apiurl + \"/images/cross.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462\n      },\n      __self: this\n    })))))))), React.createElement(\"div\", {\n      class: \"contnuShop\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: Environment.weburl + '/product',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      class: \"btn gray\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473\n      },\n      __self: this\n    }, \"Continue shopping\"))))), React.createElement(\"div\", {\n      class: \"carTotal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 481\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-lg-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484\n      },\n      __self: this\n    }, \"Cart Totals\")), React.createElement(\"div\", {\n      class: \"col-lg-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      class: \"cartVelu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488\n      },\n      __self: this\n    }, \"Subtotal\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 489\n      },\n      __self: this\n    }, \"$\", React.createElement(\"span\", {\n      id: \"subTotalAmount\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 489\n      },\n      __self: this\n    }, this.state.subTotalAmount))), React.createElement(\"ul\", {\n      class: \"cartVelu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493\n      },\n      __self: this\n    }, \"Shipping\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"self\",\n      name: \"radio1\",\n      id: \"delivery_type\",\n      onClick: e => this.updateSubTotal('self'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 496\n      },\n      __self: this\n    }), \" Self Pick-Up (Free)\"), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"delivery\",\n      name: \"radio1\",\n      id: \"delivery_type\",\n      onClick: e => this.updateSubTotal('delivery'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 499\n      },\n      __self: this\n    }), \" Standard Delivery ($\", this.state.standeredDelivery, \")\"))), React.createElement(\"div\", {\n      class: \"cartAddrs\",\n      id: \"shipping_address\",\n      style: {\n        display: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504\n      },\n      __self: this\n    }, React.createElement(ShippingList, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 505\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"cartAddrs\",\n      id: \"store_address\",\n      style: {\n        display: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509\n      },\n      __self: this\n    }, React.createElement(StoreAddress, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510\n      },\n      __self: this\n    })), React.createElement(\"ul\", {\n      class: \"cartVelu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514\n      },\n      __self: this\n    }, \"Total\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515\n      },\n      __self: this\n    }, \"$\", React.createElement(\"span\", {\n      id: \"subFinalAmount\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515\n      },\n      __self: this\n    }, this.state.finalTotalAmount)))))), React.createElement(\"div\", {\n      class: \"clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 521\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: e => window.confirm(\"Are you sure to checkout this item?\") && this.productCheckout(),\n      class: \"checkoutBtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 526\n      },\n      __self: this\n    }, \"Proceed to Checkout\"), React.createElement(\"div\", {\n      class: \"clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529\n      },\n      __self: this\n    })), React.createElement(Else, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 552\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"table-responsive\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 553\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      class: \"table crTable\",\n      id: \"cartItems\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 554\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 555\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 556\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 557\n      },\n      __self: this\n    }, \"Product\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 558\n      },\n      __self: this\n    }, \"Price\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 559\n      },\n      __self: this\n    }, \"Quantity\"), React.createElement(\"th\", {\n      colspan: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 560\n      },\n      __self: this\n    }, \"Total\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 563\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 568\n      },\n      __self: this\n    }, \"Record not found!!\")))))), React.createElement(Alert, {\n      stack: true,\n      timeout: 1000,\n      position: \"bottom-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 575\n      },\n      __self: this\n    }))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 578\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"modal payPopup\",\n      id: \"paymentModal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 580\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"modal-dialog modal-dialog-centered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 581\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"modal-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 582\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"modal-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 583\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      class: \"close\",\n      \"data-dismiss\": \"modal\",\n      onClick: e => this.closePaymentModel('paymentModal'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 584\n      },\n      __self: this\n    }, \" \\xD7\"), React.createElement(StripeProvider, {\n      apiKey: \"pk_test_1kxFnHhyTrYl42GVcNw65WB400QCKzHbxG\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 586\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"example payCard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 587\n      },\n      __self: this\n    }, React.createElement(Elements, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 588\n      },\n      __self: this\n    }, React.createElement(CheckoutForm, {\n      amountdata: this.state.totalamount,\n      onSelectLanguage: this.handleLanguage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 590\n      },\n      __self: this\n    })))))))));\n  }\n\n}\n\nexport default Cart;","map":{"version":3,"sources":["/var/www/html/htdoc/detailgarage/frontend/src/components/user/cart.js"],"names":["React","Component","Environment","axios","If","Then","Else","Switch","Case","Header","Footer","Alert","ShippingList","StoreAddress","CheckoutForm","Elements","StripeProvider","constants","Cart","constructor","props","handleLanguage","stripeRes","setState","stripeResponse","stripeStatus","data","status","stripeTxnId","balance_transaction","stripeId","id","state","deliveryTypeval","document","querySelector","value","address_id","shipping_amount","proAmt","getElementById","innerHTML","subTot","checkoutDetails","user_id_send","useremail","username","post","apiurl","then","result","localStorage","setItem","message","window","location","href","weburl","error","position","timeout","addressLength","standeredDelivery","getItem","cartlistProduct","addresslist","deliveryAmount","quantity","cartTotalQuantity","cartQuantity","cartTotalAmount","subTotalAmount","totalamount","subFinalAmount","langValue","addQuantity","bind","removeQuantity","getUserCartdetails","user_id","response","length","e","qnt","newQuantity","parseInt","itmPrice","updateCartItem","success","total_amount","toFixed","updateSubTotal","param","radioVal","style","display","totValAmt","closePaymentModel","modal","productCheckout","deliveryType","deleteCartlistItem","wishlistItem","remove","sucessMsg","setTimeout","reload","sucessMsg3","render","errorMsg","map","item","index","cart_id","price","image","product_name","confirm","finalTotalAmount"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Environment } from '../../../src/components/environment';\r\nimport axios from 'axios';\r\nimport { If, Then, Else, Switch, Case} from 'react-if';\r\nimport Header from '../../../src/layouts/header';\r\nimport Footer from '../../../src/layouts/footer';\r\nimport Alert from 'react-s-alert';\r\nimport ShippingList from '../../components/user/shipping_list';\r\nimport StoreAddress from '../../components/user/store_address';\r\nimport CheckoutForm from '../../components/user/stripe-checkout';\r\nimport {Elements, StripeProvider} from 'react-stripe-elements';\r\n// import StripeCheckout from 'react-stripe-checkout';\r\nimport { constants } from 'crypto';\r\n\r\n\r\nclass Cart extends Component{\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {\r\n            user_id_send :'',\r\n            useremail:localStorage.getItem(\"email\")?localStorage.getItem(\"email\"):\"\",\r\n            username:localStorage.getItem(\"first_name\")?localStorage.getItem(\"first_name\"):\"\",\r\n            cartlistProduct : [],\r\n            addresslist : [],\r\n            deliveryAmount:[],\r\n            quantity : 0,\r\n            cartTotalQuantity:0,\r\n            cartQuantity : 0,\r\n            cartTotalAmount : 0,\r\n            subTotalAmount : 0,\r\n            totalamount:0,\r\n            subFinalAmount : 0,\r\n            standeredDelivery : 0,\r\n            langValue:'',\r\n            stripeRes:''\r\n        }\r\n        var user_id_send = localStorage.getItem(\"user_id\")?localStorage.getItem(\"user_id\"):\"\";\r\n\r\n        this.addQuantity = this.addQuantity.bind(this);\r\n        this.removeQuantity = this.removeQuantity.bind(this);\r\n        this.getUserCartdetails = this.getUserCartdetails.bind(this);\r\n        this.handleLanguage=this.handleLanguage.bind(this);\r\n        axios.post(Environment.apiurl+'/getUserCartlistProduct', {user_id:user_id_send})\r\n        .then(result => {\r\n            if(result){\r\n                if(result.data.response.cartlistProduct.length>0){\r\n                    this.getUserCartdetails();\r\n                    // this.setState({ subTotalAmount: result.data.response[0].cartTotalAmount?result.data.response[0].cartTotalAmount:0 });\r\n                    // this.setState({ subFinalAmount: result.data.response[0].cartTotalAmount });\r\n                    // this.setState({cartlistProduct: result.data.response});\r\n\r\n                    this.setState({ subTotalAmount: result.data.response.cartlistProduct[0].cartTotalAmount?result.data.response.cartlistProduct[0].cartTotalAmount:0 });\r\n                    this.setState({ subFinalAmount: result.data.response.cartlistProduct[0].cartTotalAmount });\r\n                    this.setState({\"totalamount\":result.data.response.cartlistProduct[0].cartTotalAmount});\r\n                    this.setState({cartlistProduct: result.data.response.cartlistProduct});\r\n                    this.setState({deliveryAmount: result.data.response.deliveryAmount});\r\n                    this.setState({ standeredDelivery: result.data.response.deliveryAmount[0].value?result.data.response.deliveryAmount[0].value:0 });\r\n\r\n                    this.setState({user_id_send:user_id_send});\r\n                } else {\r\n                    //this.setState({ subTotalAmount: 0 });\r\n                    //this.setState({ subFinalAmount: 0 });\r\n                }\r\n            }\r\n        });\r\n    }\r\n    \r\n    \r\n    handleLanguage = (stripeRes) => {\r\n        // console.log(stripeRes.data.payment_method);\r\n        this.setState({stripeResponse: stripeRes});\r\n        this.setState({stripeStatus: stripeRes.data.status});\r\n        this.setState({stripeTxnId: stripeRes.data.balance_transaction});\r\n        this.setState({stripeId: stripeRes.data.id});\r\n\r\n        if(this.state.stripeStatus == \"succeeded\"){\r\n            var deliveryTypeval = document.querySelector('input[name = \"radio1\"]:checked').value;\r\n            if(deliveryTypeval == 'self'){\r\n                var address_id = '';\r\n                var shipping_amount = 0;\r\n\r\n                var proAmt = document.getElementById('subTotalAmount').innerHTML;\r\n                var subTot = document.getElementById('subFinalAmount').innerHTML;\r\n                var checkoutDetails =\r\n                {\r\n                    \"stripeTxnId\":this.state.stripeTxnId,\r\n                    \"stripeId\":this.state.stripeId,\r\n                    \"shipping_amount\":shipping_amount,\r\n                    \"amount\":proAmt,\r\n                    \"total_amount\":subTot,\r\n                    \"shipping_type\":deliveryTypeval,\r\n                    \"address_id\":address_id,\r\n                    \"user_id\":this.state.user_id_send,\r\n                    \"useremail\":this.state.useremail,\r\n                    \"username\":this.state.username\r\n                    \r\n                // \"catproducts\":this.state.cartlistProduct\r\n                };\r\n                axios.post(Environment.apiurl+\"/productCheckout\", checkoutDetails).then(result => {\r\n                    if(result.data.status==\"success\"){\r\n                        // alert(result.data.status);\r\n                        localStorage.setItem(\"sucessMsg\", result.data.message);\r\n                            window.location.href = Environment.weburl+'/user/confirm-order';\r\n                    } else {\r\n                        Alert.error(result.data.message, {\r\n                            position: 'bottom-right',\r\n                            timeout: 1000\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n\r\n            if(deliveryTypeval == 'delivery'){\r\n                var addressLength = document.getElementById('addressLength').value;\r\n                if(addressLength > 0){\r\n                    var shipping_amount = this.state.standeredDelivery;\r\n                    var address_id = document.querySelector('input[name = \"radio2\"]:checked').value;\r\n                    var proAmt = document.getElementById('subTotalAmount').innerHTML;\r\n                    var subTot = document.getElementById('subFinalAmount').innerHTML;\r\n                    var checkoutDetails =\r\n                    {\r\n                        \"stripeTxnId\":this.state.stripeTxnId,\r\n                        \"stripeId\":this.state.stripeId,\r\n                        \"shipping_amount\":shipping_amount,\r\n                        \"amount\":proAmt,\r\n                        \"total_amount\":subTot,\r\n                        \"shipping_type\":deliveryTypeval,\r\n                        \"address_id\":address_id,\r\n                        \"user_id\":this.state.user_id_send,\r\n                        \"useremail\":this.state.useremail,\r\n                        \"username\":this.state.username\r\n                        \r\n                    // \"catproducts\":this.state.cartlistProduct\r\n                    };\r\n                    axios.post(Environment.apiurl+\"/productCheckout\", checkoutDetails).then(result => {\r\n                        if(result.data.status==\"success\"){\r\n                            // alert(result.data.status);\r\n                            localStorage.setItem(\"sucessMsg\", result.data.message);\r\n                                window.location.href = Environment.weburl+'/user/confirm-order';\r\n                        } else {\r\n                            Alert.error(result.data.message, {\r\n                                position: 'bottom-right',\r\n                                timeout: 1000\r\n                            });\r\n                        }\r\n                    });\r\n                } else {\r\n                    Alert.error('Add your delivery address!', {\r\n                        position: 'bottom-right',\r\n                        timeout: 2000\r\n                    });\r\n                }                \r\n            }\r\n        } else {\r\n            Alert.error('Something went wrong', {\r\n                position: 'bottom-right',\r\n                timeout: 2000\r\n            });\r\n        }\r\n    }\r\n\r\n    addQuantity(e){\r\n        var qnt = document.getElementById('quantity_'+e).value;\r\n        var newQuantity = parseInt(qnt)+1;\r\n        var itmPrice = document.getElementById('proPrice_'+e).value;\r\n        var updateCartItem =\r\n        {\r\n            \"id\":e,\r\n            \"user_id\":this.state.user_id_send,\r\n            \"quantity\":newQuantity,\r\n            \"price\":itmPrice,\r\n            \"type\":'add',\r\n        };\r\n        axios.post(Environment.apiurl+\"/updateCartQuantity\", updateCartItem).then(result => {\r\n        if(result){\r\n            // console.log(result.data.response[0].quantity);\r\n            // console.log(result.data.response[0].total_amount);\r\n            if(result.data.status == \"success\"){\r\n                this.getUserCartdetails();\r\n                Alert.success(result.data.message, {\r\n                    position: 'bottom-right',\r\n                    timeout: 1000\r\n                });\r\n                document.getElementById('quantity_'+e).value = result.data.response[0].quantity;\r\n                document.getElementById('proToatlPrice_'+e).innerHTML = result.data.response[0].total_amount.toFixed(2);\r\n            } else {\r\n                Alert.error(result.data.message, {\r\n                    position: 'bottom-right',\r\n                    timeout: 1000\r\n                });\r\n            }\r\n        }\r\n        });\r\n    }\r\n\r\n    updateSubTotal(param){\r\n        // alert(param);\r\n        var radioVal = param;\r\n        var subTot = document.getElementById('subTotalAmount').innerHTML;\r\n        if(radioVal == 'self'){\r\n            document.getElementById(\"shipping_address\").style.display = \"none\";\r\n            document.getElementById(\"store_address\").style.display = \"block\";\r\n            document.getElementById('subFinalAmount').innerHTML = parseInt(subTot).toFixed(2);\r\n             this.setState({\"totalamount\":parseInt(subTot).toFixed(2)});\r\n        }\r\n        if(radioVal == 'delivery'){\r\n            document.getElementById(\"shipping_address\").style.display = \"block\";\r\n            document.getElementById(\"store_address\").style.display = \"none\";\r\n            var standeredDelivery = this.state.standeredDelivery;\r\n            var totValAmt = parseInt(subTot)+parseInt(standeredDelivery);\r\n            document.getElementById('subFinalAmount').innerHTML = totValAmt.toFixed(2);\r\n            this.setState({\"totalamount\":totValAmt.toFixed(2)});\r\n        }\r\n    }\r\n\r\n\r\n    closePaymentModel(id){\r\n        var modal = document.getElementById(id);\r\n        modal.style.display = \"none\";\r\n    }\r\n\r\n\r\n    productCheckout(){\r\n        var deliveryType = document.querySelector('input[name = \"radio1\"]:checked');\r\n        if(deliveryType){\r\n            var deliveryTypeval = document.querySelector('input[name = \"radio1\"]:checked').value;\r\n            \r\n            // STRIPE PAYMENT HERE START\r\n            // console.log(this.state.stripeStatus);\r\n            var modal = document.getElementById(\"paymentModal\");\r\n            modal.style.display = \"block\";\r\n            return false;\r\n\r\n            // STRIPE PAYMENT HERE END\r\n\r\n\r\n            // if(deliveryTypeval == 'self'){\r\n            //     var address_id = '';\r\n            //     var shipping_amount = 0;\r\n\r\n            //     var proAmt = document.getElementById('subTotalAmount').innerHTML;\r\n            //     var subTot = document.getElementById('subFinalAmount').innerHTML;\r\n            //     var checkoutDetails =\r\n            //     {\r\n            //         \"shipping_amount\":shipping_amount,\r\n            //         \"amount\":proAmt,\r\n            //         \"total_amount\":subTot,\r\n            //         \"shipping_type\":deliveryTypeval,\r\n            //         \"address_id\":address_id,\r\n            //         \"user_id\":this.state.user_id_send,\r\n            //         \"useremail\":this.state.useremail,\r\n            //         \"username\":this.state.username\r\n                    \r\n            //     // \"catproducts\":this.state.cartlistProduct\r\n            //     };\r\n            //     axios.post(Environment.apiurl+\"/productCheckout\", checkoutDetails).then(result => {\r\n            //         if(result.data.status==\"success\"){\r\n            //             // alert(result.data.status);\r\n            //             localStorage.setItem(\"sucessMsg\", result.data.message);\r\n            //                 window.location.href = Environment.weburl+'/user/confirm-order';\r\n            //         } else {\r\n            //             Alert.error(result.data.message, {\r\n            //                 position: 'bottom-right',\r\n            //                 timeout: 1000\r\n            //             });\r\n            //         }\r\n            //     });\r\n            // }\r\n            \r\n            // if(deliveryTypeval == 'delivery'){\r\n            //     var addressLength = document.getElementById('addressLength').value;\r\n            //     if(addressLength > 0){\r\n            //         var shipping_amount = this.state.standeredDelivery;\r\n            //         var address_id = document.querySelector('input[name = \"radio2\"]:checked').value;\r\n            //         var proAmt = document.getElementById('subTotalAmount').innerHTML;\r\n            //         var subTot = document.getElementById('subFinalAmount').innerHTML;\r\n            //         var checkoutDetails =\r\n            //         {\r\n            //             \"shipping_amount\":shipping_amount,\r\n            //             \"amount\":proAmt,\r\n            //             \"total_amount\":subTot,\r\n            //             \"shipping_type\":deliveryTypeval,\r\n            //             \"address_id\":address_id,\r\n            //             \"user_id\":this.state.user_id_send,\r\n            //             \"useremail\":this.state.useremail,\r\n            //             \"username\":this.state.username\r\n                        \r\n            //         // \"catproducts\":this.state.cartlistProduct\r\n            //         };\r\n            //         axios.post(Environment.apiurl+\"/productCheckout\", checkoutDetails).then(result => {\r\n            //             if(result.data.status==\"success\"){\r\n            //                 // alert(result.data.status);\r\n            //                 localStorage.setItem(\"sucessMsg\", result.data.message);\r\n            //                     window.location.href = Environment.weburl+'/user/confirm-order';\r\n            //             } else {\r\n            //                 Alert.error(result.data.message, {\r\n            //                     position: 'bottom-right',\r\n            //                     timeout: 1000\r\n            //                 });\r\n            //             }\r\n            //         });\r\n            //     } else {\r\n            //         Alert.error('Add your delivery address!', {\r\n            //             position: 'bottom-right',\r\n            //             timeout: 2000\r\n            //         });\r\n            //     }                \r\n            // }\r\n        } else {\r\n            Alert.error('Please select your shipping type!', {\r\n                position: 'bottom-right',\r\n                timeout: 2000\r\n            });\r\n        }\r\n    }\r\n\r\n    removeQuantity(e){\r\n        var qnt = document.getElementById('quantity_'+e).value;\r\n        if(qnt>1){\r\n            var qnt = document.getElementById('quantity_'+e).value;\r\n            var newQuantity = parseInt(qnt)-1;\r\n            var itmPrice = document.getElementById('proPrice_'+e).value;\r\n            var updateCartItem =\r\n            {\r\n                \"id\":e,\r\n                \"user_id\":this.state.user_id_send,\r\n                \"quantity\":newQuantity,\r\n                \"price\":itmPrice,\r\n                \"type\":'add',\r\n            };\r\n            axios.post(Environment.apiurl+\"/updateCartQuantity\", updateCartItem).then(result => {\r\n            if(result){\r\n                // console.log(result.data.response[0].quantity);\r\n                // console.log(result.data.response[0].total_amount);\r\n                if(result.data.status == \"success\"){\r\n                    this.getUserCartdetails();\r\n                    Alert.success(result.data.message, {\r\n                        position: 'bottom-right',\r\n                        timeout: 1000\r\n                    });\r\n                    document.getElementById('quantity_'+e).value = result.data.response[0].quantity;\r\n                    document.getElementById('proToatlPrice_'+e).innerHTML = result.data.response[0].total_amount.toFixed(2);\r\n                } else {\r\n                    Alert.error(result.data.message, {\r\n                        position: 'bottom-right',\r\n                        timeout: 1000\r\n                    });\r\n                }\r\n            }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    getUserCartdetails(){\r\n        axios.post(Environment.apiurl+'/getUserCartProDetails',{user_id:localStorage.getItem(\"user_id\")})\r\n        .then(result => {\r\n            // console.log(result);\r\n            // console.log(result.data.response[0].cartTotalAmount);\r\n            // console.log(result.data.response[0].cartTotalAmount);\r\n            // console.log(result.data.response[0].cartQuantity);\r\n            if(result){\r\n               document.getElementById('subTotalAmount').innerHTML = result.data.response[0].cartTotalAmount.toFixed(2);\r\n                document.getElementById('subFinalAmount').innerHTML = result.data.response[0].cartTotalAmount.toFixed(2);\r\n                document.getElementById('cartcount').innerHTML = result.data.response[0].cartQuantity;\r\n                document.getElementById('cartTotalAmount').innerHTML = result.data.response[0].cartTotalAmount.toFixed(2);                \r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    deleteCartlistItem(param){\r\n        var wishlistItem =\r\n        {\r\n            \"id\":param,\r\n            \"user_id\":this.state.user_id_send,\r\n        };\r\n        axios.post(Environment.apiurl+\"/deleteCartlistItem\", wishlistItem).then(result => {\r\n            if(result.data.status==\"success\"){\r\n                this.getUserCartdetails();\r\n                document.getElementById(\"cart_\"+param).remove();\r\n                this.setState({sucessMsg: result.data.message});\r\n                localStorage.setItem(\"sucessMsg\", result.data.message);\r\n            } else if(result.data.status==\"deleted\"){\r\n                this.getUserCartdetails();\r\n                document.getElementById(\"cart_\"+param).remove();\r\n                this.setState({sucessMsg: result.data.message});\r\n                localStorage.setItem(\"sucessMsg\", result.data.message);\r\n                setTimeout(function () {\r\n                    window.location.reload(1);\r\n                }, 1000);\r\n            } else {\r\n                this.setState({sucessMsg3: result.data.message});\r\n                localStorage.setItem(\"sucessMsg\", result.data.message);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header />\r\n                <section class=\"cartPage\">\r\n                    <div class=\"container\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-12\">\r\n                                <h2>Cart</h2>\r\n                                <ul class=\"breadcrumb\">\r\n                                    <li><a href=\"#\">Home</a></li>\r\n                                    <li>Cart</li>\r\n                                </ul>\r\n                            </div>\r\n                            \r\n                            <div class=\"col-12\">\r\n                            <If condition={this.state.sucessMsg}>\r\n                                <Then>\r\n                                    <div className=\"alert alert-success\">{this.state.sucessMsg}</div>\r\n                                </Then>\r\n                            </If>\r\n\r\n                            <If condition={this.state.errorMsg}>     \r\n                                <Then>\r\n                                    <div className=\"alert alert-danger\">{this.state.errorMsg}</div>\r\n                                </Then>\r\n                            </If>\r\n                            \r\n                            <If condition={this.state.cartlistProduct.length > 0}>\r\n                            <Then>\r\n                            <div class=\"table-responsive\">\r\n                                <table class=\"table crTable\" id=\"cartItems\">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th>Product</th>\r\n                                            <th>Price</th>\r\n                                            <th>Quantity</th>\r\n                                            <th colspan=\"2\">Total</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                    {this.state.cartlistProduct.length>0}\r\n                                    {this.state.cartlistProduct.map( (item, index) =>\r\n                                    \r\n                                    <tr id={'cart_'+item.cart_id}>\r\n                                        <input type='hidden' name='proPrice' id={'proPrice_'+item.cart_id} value={item.price} />\r\n\r\n                                        <td data-label=\"Product\"><figure class=\"prodImg\"><img src={Environment.apiurl+'/products/'+item.image} /></figure> <h4>{item.product_name}</h4></td>\r\n                                        <td data-label=\"Price\">${item.price.toFixed(2)}</td>\r\n                                        <td data-label=\"Quantity\">\r\n                                            <div class=\"plusMinus prodCount\">\r\n                                                <form id='myform' method='POST' action='#'>\r\n                                                    <input type='button' value='-' class='numb' field='quantity' onClick={(e) => this.removeQuantity(item.cart_id)}/>\r\n\r\n                                                    <input type='text' name='quantity' id={'quantity_'+item.cart_id} value={item.cartTotalQuantity} class='qty numb' />\r\n\r\n                                                    <input type='button' value='+' class='numb' field='quantity' onClick={(e) => this.addQuantity(item.cart_id)}/>\r\n                                                </form>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td data-label=\"Total\"> $<span id={'proToatlPrice_'+item.cart_id}>{item.total_amount.toFixed(2)}</span></td>\r\n                                        <td class=\"text-center\"><a href=\"javascript:void(0);\" onClick={e => window.confirm(\"Are you sure you wish to delete this item?\") && this.deleteCartlistItem(item.cart_id) }><img src={Environment.apiurl+\"/images/cross.png\"} /></a></td>\r\n                                    </tr>\r\n                                    )}\r\n                                        \r\n                                    </tbody>\r\n                                </table>\r\n                                </div>\r\n                                \r\n                                <div class=\"contnuShop\">\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-6\">\r\n                                            <a href={Environment.weburl+'/product'}><button class=\"btn gray\">Continue shopping</button></a>\r\n                                        </div>\r\n                                        {/* <div class=\"col-6 text-right\">\r\n                                            <button class=\"btn red\">Update cart</button>\r\n                                        </div> */}\r\n                                    </div>\r\n                                </div>\r\n                                \r\n                                <div class=\"carTotal\">\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-lg-3\">\r\n                                            <h3>Cart Totals</h3>\r\n                                        </div>\r\n                                        <div class=\"col-lg-9\">\r\n                                            <ul class=\"cartVelu\">\r\n                                                <li><h3>Subtotal</h3></li>\r\n                                                <li>$<span id=\"subTotalAmount\">{this.state.subTotalAmount}</span></li>\r\n                                            </ul>\r\n                                            \r\n                                            <ul class=\"cartVelu\">\r\n                                                <li><h3>Shipping</h3></li>\r\n                                                <li>\r\n                                                    <label>\r\n                                                        <input type=\"radio\" value=\"self\" name=\"radio1\" id=\"delivery_type\" onClick={(e) => this.updateSubTotal('self')} /> Self Pick-Up (Free)\r\n                                                    </label>\r\n                                                    <label>\r\n                                                        <input type=\"radio\" value=\"delivery\" name=\"radio1\" id=\"delivery_type\" onClick={(e) => this.updateSubTotal('delivery')} /> Standard Delivery (${this.state.standeredDelivery})\r\n                                                    </label>\r\n                                                </li>\r\n                                            </ul>\r\n                                            \r\n                                            <div class=\"cartAddrs\" id=\"shipping_address\" style={{ display: \"none\" }}>\r\n                                            <ShippingList />\r\n                                            </div>\r\n                                            \r\n\r\n                                            <div class=\"cartAddrs\" id=\"store_address\" style={{ display: \"none\" }}>\r\n                                            <StoreAddress />\r\n                                            </div>\r\n                                            \r\n                                            <ul class=\"cartVelu\">\r\n                                                <li><h3>Total</h3></li>\r\n                                                <li>$<span id=\"subFinalAmount\">{this.state.finalTotalAmount}</span></li>\r\n                                            </ul>                                            \r\n                                        </div>\r\n                                    </div>\r\n                                    \r\n                                </div>                                \r\n                                <div class=\"clearfix\"></div>\r\n                                \r\n\r\n                              \r\n\r\n                                <button onClick={e => window.confirm(\"Are you sure to checkout this item?\") && this.productCheckout()} class=\"checkoutBtn\">Proceed to Checkout</button>\r\n\r\n                                {/* <button data-toggle=\"modal\" data-target=\"#loginModal\" class=\"checkoutBtn\">Proceed to Checkout</button> */}\r\n                                <div class=\"clearfix\"></div>\r\n\r\n                                {/* <StripeCheckout\r\n                                    amount=\"5.00\"\r\n                                    // billingAddress\r\n                                    // description=\"Awesome Product\"\r\n                                    image={Environment.apiurl+'/images/logo.png'}\r\n                                    locale=\"auto\"\r\n                                    name=\"Detailgarage\"\r\n                                    stripeKey=\"pk_test_1kxFnHhyTrYl42GVcNw65WB400QCKzHbxG\"\r\n                                    token={this.onToken}\r\n                                    // zipCode\r\n                                /> */}\r\n\r\n                                {/* <StripeProvider apiKey=\"pk_test_1kxFnHhyTrYl42GVcNw65WB400QCKzHbxG\">\r\n                                    <div className=\"example payCard\">\r\n                                    <Elements>\r\n                                        <CheckoutForm />\r\n                                    </Elements>\r\n                                    </div>\r\n                                </StripeProvider> */}\r\n\r\n                            </Then>\r\n                            <Else>\r\n                            <div class=\"table-responsive\">\r\n                                <table class=\"table crTable\" id=\"cartItems\">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th>Product</th>\r\n                                            <th>Price</th>\r\n                                            <th>Quantity</th>\r\n                                            <th colspan=\"2\">Total</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        {/* <tr><td colSpan=\"4\"><img src={Environment.apiurl+\"/images/no-data-found-images.png\"} /></td></tr> */}\r\n                                        \r\n                                    </tbody>\r\n                                </table>\r\n                                <div className=\"alert alert-danger\">Record not found!!</div>\r\n                            </div>\r\n                            \r\n                            </Else>\r\n                            </If>\r\n                            </div>\r\n                        </div>\r\n                        <Alert stack={true} timeout={1000} position='bottom-right' />\r\n                    </div>\r\n                </section>\r\n                <Footer />\r\n                \r\n                <div class=\"modal payPopup\" id=\"paymentModal\">\r\n                    <div class=\"modal-dialog modal-dialog-centered\">\r\n                        <div class=\"modal-content\">\r\n                            <div class=\"modal-body\">\r\n                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" onClick={e => this.closePaymentModel('paymentModal')}> &times;</button>\r\n\r\n                            <StripeProvider apiKey=\"pk_test_1kxFnHhyTrYl42GVcNw65WB400QCKzHbxG\">\r\n                                <div className=\"example payCard\">\r\n                                <Elements>\r\n                                   \r\n                                  <CheckoutForm amountdata={this.state.totalamount} onSelectLanguage={this.handleLanguage}/>\r\n                                </Elements>\r\n                                </div>\r\n                            </StripeProvider>\r\n                               \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                                \r\n            </div>\r\n        )\r\n    }    \r\n\r\n}\r\n\r\nexport default Cart;\r\n"]},"metadata":{},"sourceType":"module"}