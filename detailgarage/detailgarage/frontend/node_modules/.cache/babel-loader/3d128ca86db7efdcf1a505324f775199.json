{"ast":null,"code":"var _jsxFileName = \"/var/www/html/detailgarage/frontend/src/components/product/category-product.js\";\nimport React, { Component } from 'react';\nimport { Environment } from '../../../src/components/environment';\nimport axios from 'axios';\nimport { If, Then, Else, Switch, Case } from 'react-if';\nimport Header from '../../../src/layouts/header';\nimport Footer from '../../../src/layouts/footer';\nimport { strict } from 'assert';\nimport Pagination from \"react-js-pagination\";\nimport PropTypes from 'prop-types'; // import CategoryFilter from '../../../src/layouts/filter';\n\nconst propTypes = {\n  items: PropTypes.array.isRequired,\n  onChangePage: PropTypes.func.isRequired,\n  initialPage: PropTypes.number,\n  pageSize: PropTypes.number\n};\nconst defaultProps = {\n  initialPage: 1,\n  pageSize: 10\n};\n\nclass CategoryProduct extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pager: {},\n      getProductList: [],\n      getSubCategoryList: [],\n      slugValue: '',\n      subCategoryId: '',\n      sortby: \"\",\n      min_price: \"\",\n      max_price: \"\"\n    };\n    let slug = this.props.match.params.slug;\n    this.getFilterCategoryProductList = this.getFilterCategoryProductList.bind(this);\n    this.getSortedData = this.getSortedData.bind(this);\n    this.getSortedPriceRangeData = this.getSortedPriceRangeData.bind(this);\n    axios.get(Environment.apiurl + '/product/' + slug).then(result => {\n      if (result) {\n        // console.log(result);\n        this.setState({\n          getProductList: result.data.response\n        });\n        this.setState({\n          slugValue: this.props.match.params.slug\n        });\n      }\n    });\n    axios.get(Environment.apiurl + '/getAllSubCategoryList/' + slug).then(result => {\n      if (result) {\n        // console.log(result.data);\n        this.setState({\n          getSubCategoryList: result.data.response\n        });\n      }\n    });\n  }\n\n  getFilterCategoryProductList(param) {\n    this.setState({\n      slug: this.state.slugValue\n    });\n    this.setState({\n      subCategoryId: param\n    });\n    var filterData = {\n      \"slug\": this.state.slugValue,\n      \"subCategoryId\": param,\n      \"sortby\": this.state.sortby,\n      \"min_price\": this.state.min_price,\n      \"max_price\": this.state.max_price\n    };\n    axios.post(Environment.apiurl + \"/getFilterCategoryProductList\", filterData).then(result => {\n      if (result.data.status == \"true\") {\n        this.setState({\n          getProductList: result.data.response\n        });\n      } else {\n        this.setState({\n          getProductList: []\n        });\n        console.log(\"get error from data\");\n      }\n    });\n  }\n\n  getSortedData(e) {\n    this.setState({\n      sortby: e.target.value\n    });\n    var filterData = {\n      \"sortby\": e.target.value,\n      \"slug\": this.state.slugValue,\n      \"subCategoryId\": this.state.subCategoryId,\n      \"min_price\": this.state.min_price,\n      \"max_price\": this.state.max_price // \"pageNumber\":1\n\n    };\n    axios.post(Environment.apiurl + \"/getFilterCategoryProductList\", filterData).then(result => {\n      if (result.data.status == \"true\") {\n        this.setState({\n          getProductList: result.data.response\n        });\n      } else {\n        this.setState({\n          getProductList: []\n        });\n        console.log(\"get error from data\");\n      }\n    });\n  }\n\n  getSortedPriceRangeData(e) {\n    this.setState({\n      min_price: document.getElementById(\"min_price\").value\n    });\n    this.setState({\n      max_price: document.getElementById(\"max_price\").value\n    });\n    var filterData = {\n      \"sortby\": this.state.sortby,\n      \"slug\": this.state.slugValue,\n      \"subCategoryId\": this.state.subCategoryId,\n      \"min_price\": document.getElementById(\"min_price\").value,\n      \"max_price\": document.getElementById(\"max_price\").value // \"pageNumber\":1\n\n    }; // console.log(filterData);\n\n    axios.post(Environment.apiurl + \"/getFilterCategoryProductList\", filterData).then(result => {\n      if (result.data.status == \"true\") {\n        this.setState({\n          getProductList: result.data.response\n        });\n      } else {\n        this.setState({\n          getProductList: []\n        });\n        console.log(\"get error from data\");\n      }\n    });\n  }\n\n  componentWillMount() {\n    // set page if items array isn't empty\n    if (this.props.items && this.props.items.length) {\n      this.setPage(this.props.initialPage);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // reset page if items array has changed\n    if (this.props.items !== prevProps.items) {\n      this.setPage(this.props.initialPage);\n    }\n  }\n\n  setPage(page) {\n    var _this$props = this.props,\n        items = _this$props.items,\n        pageSize = _this$props.pageSize;\n    var pager = this.state.pager;\n\n    if (page < 1 || page > pager.totalPages) {\n      return;\n    } // get new pager object for specified page\n\n\n    pager = this.getPager(items.length, page, pageSize); // get new page of items from items array\n\n    var pageOfItems = items.slice(pager.startIndex, pager.endIndex + 1); // update state\n\n    this.setState({\n      pager: pager\n    }); // call change page function in parent component\n\n    this.props.onChangePage(pageOfItems);\n  }\n\n  getPager(totalItems, currentPage, pageSize) {\n    // default to first page\n    currentPage = currentPage || 1; // default page size is 10\n\n    pageSize = pageSize || 10; // calculate total pages\n\n    var totalPages = Math.ceil(totalItems / pageSize);\n    var startPage, endPage;\n\n    if (totalPages <= 10) {\n      // less than 10 total pages so show all\n      startPage = 1;\n      endPage = totalPages;\n    } else {\n      // more than 10 total pages so calculate start and end pages\n      if (currentPage <= 6) {\n        startPage = 1;\n        endPage = 10;\n      } else if (currentPage + 4 >= totalPages) {\n        startPage = totalPages - 9;\n        endPage = totalPages;\n      } else {\n        startPage = currentPage - 5;\n        endPage = currentPage + 4;\n      }\n    } // calculate start and end item indexes\n\n\n    var startIndex = (currentPage - 1) * pageSize;\n    var endIndex = Math.min(startIndex + pageSize - 1, totalItems - 1); // create an array of pages to ng-repeat in the pager control\n\n    var pages = [...Array(endPage + 1 - startPage).keys()].map(i => startPage + i); // return object with all pager properties required by the view\n\n    return {\n      totalItems: totalItems,\n      currentPage: currentPage,\n      pageSize: pageSize,\n      totalPages: totalPages,\n      startPage: startPage,\n      endPage: endPage,\n      startIndex: startIndex,\n      endIndex: endIndex,\n      pages: pages\n    };\n  }\n\n  render() {\n    var pager = this.state.pager;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }), React.createElement(\"section\", {\n      class: \"pageBanner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"figure\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: Environment.apiurl + \"/images/page-banner.jpg\",\n      class: \"img-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"overLay_1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-sm-12 text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, \"Shop\"), React.createElement(\"ol\", {\n      class: \"breadcrumb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: Environment.weburl,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, \"Home\")), React.createElement(\"li\", {\n      class: \"active\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, \"Shop\"))))))), React.createElement(\"section\", {\n      class: \"listing\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-md-4 col-lg-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      class: \"open-mypage2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, \"Categories\"), React.createElement(\"div\", {\n      id: \"mypage-info2\",\n      class: \"slideForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      class: \"up\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fa fa-chevron-up\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"scrollBar\",\n      \"data-simplebar\": true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"bs-example\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      class: \"shopTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, \"Shop by category\"), React.createElement(\"div\", {\n      class: \"accordion\",\n      id: \"accordionExample\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      class: \"subMenu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, React.createElement(If, {\n      condition: this.state.getSubCategoryList.length > 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, React.createElement(Then, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, this.state.getSubCategoryList.map((item, index) => React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"javaScript:void(0);\",\n      onClick: e => this.getFilterCategoryProductList(item.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fas fa-chevron-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }), item.sub_category_name))))))))), React.createElement(\"div\", {\n      class: \"priceFilter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      class: \"shopTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, \"Filter by price\"), React.createElement(\"div\", {\n      class: \"filterimg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"slider-range\",\n      class: \"price-filter-range\",\n      name: \"rangeInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"priceValue\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.getSortedPriceRangeData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, \"Filter\")), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, \"Price:\"), React.createElement(\"input\", {\n      type: \"\",\n      min: \"0\",\n      max: \"9900\",\n      oninput: \"validity.valid||(value='1');\",\n      id: \"min_price\",\n      class: \"price-range-field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }), \"-\", React.createElement(\"input\", {\n      type: \"\",\n      min: \"0\",\n      max: \"10000\",\n      oninput: \"validity.valid||(value='10000');\",\n      id: \"max_price\",\n      class: \"price-range-field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }))))))), React.createElement(\"div\", {\n      class: \"col-md-8 col-lg-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"showMore\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"sortBy\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      onChange: this.getSortedData,\n      value: this.state.sortby,\n      id: \"sorting\",\n      name: \"sorting\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, \"Sort by\"), React.createElement(\"option\", {\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, \"New\"), React.createElement(\"option\", {\n      value: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, \"Price:Low-High \"), React.createElement(\"option\", {\n      value: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, \"Price:High-Low \"), React.createElement(\"option\", {\n      value: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, \"Most Popular \")))), React.createElement(\"div\", {\n      class: \"clear\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"products\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, React.createElement(If, {\n      condition: this.state.getProductList.length > 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, React.createElement(Then, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, this.state.getProductList.map((item, index) => React.createElement(\"div\", {\n      class: \"col-6 col-md-6 col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"itemBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, React.createElement(\"figure\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: Environment.weburl + \"/product/details/\" + item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: Environment.apiurl + '/products/' + item.image,\n      class: \"img-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      class: \"addCart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      class: \"wishList\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fas fa-heart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }, \"Add to cart\"), React.createElement(\"a\", {\n      href: \"#\",\n      class: \"comPare\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fas fa-info-circle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }))), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: Environment.weburl + \"/product/details/\" + item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, item.product_name)), React.createElement(\"div\", {\n      class: \"prPrice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }, \"$\", item.price)))))))), React.createElement(\"ul\", {\n      className: \"pagination\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: pager.currentPage === 1 ? 'disabled' : '',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      onClick: () => this.setPage(1),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346\n      },\n      __self: this\n    }, \"First\")), React.createElement(\"li\", {\n      className: pager.currentPage === 1 ? 'disabled' : '',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      onClick: () => this.setPage(pager.currentPage - 1),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }, \"Previous\")), pager.pages.map((page, index) => React.createElement(\"li\", {\n      key: index,\n      className: pager.currentPage === page ? 'active' : '',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      onClick: () => this.setPage(page),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }, page))), React.createElement(\"li\", {\n      className: pager.currentPage === pager.totalPages ? 'disabled' : '',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      onClick: () => this.setPage(pager.currentPage + 1),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, \"Next\")), React.createElement(\"li\", {\n      className: pager.currentPage === pager.totalPages ? 'disabled' : '',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      onClick: () => this.setPage(pager.totalPages),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    }, \"Last\"))), React.createElement(\"div\", {\n      class: \"clear\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368\n      },\n      __self: this\n    }))))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375\n      },\n      __self: this\n    }));\n  }\n\n}\n\nPagination.propTypes = propTypes;\nPagination.defaultProps = defaultProps;\nexport default CategoryProduct;","map":{"version":3,"sources":["/var/www/html/detailgarage/frontend/src/components/product/category-product.js"],"names":["React","Component","Environment","axios","If","Then","Else","Switch","Case","Header","Footer","strict","Pagination","PropTypes","propTypes","items","array","isRequired","onChangePage","func","initialPage","number","pageSize","defaultProps","CategoryProduct","constructor","props","state","pager","getProductList","getSubCategoryList","slugValue","subCategoryId","sortby","min_price","max_price","slug","match","params","getFilterCategoryProductList","bind","getSortedData","getSortedPriceRangeData","get","apiurl","then","result","setState","data","response","param","filterData","post","status","console","log","e","target","value","document","getElementById","componentWillMount","length","setPage","componentDidUpdate","prevProps","prevState","page","totalPages","getPager","pageOfItems","slice","startIndex","endIndex","totalItems","currentPage","Math","ceil","startPage","endPage","min","pages","Array","keys","map","i","render","weburl","item","index","id","sub_category_name","image","product_name","price"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Environment } from '../../../src/components/environment';\nimport axios from 'axios';\nimport { If, Then, Else, Switch, Case} from 'react-if';\nimport Header from '../../../src/layouts/header';\nimport Footer from '../../../src/layouts/footer';\nimport { strict } from 'assert';\nimport Pagination from \"react-js-pagination\";\nimport PropTypes from 'prop-types';\n// import CategoryFilter from '../../../src/layouts/filter';\n\n\nconst propTypes = {\n    items: PropTypes.array.isRequired,\n    onChangePage: PropTypes.func.isRequired,\n    initialPage: PropTypes.number,\n    pageSize: PropTypes.number\n}\n\nconst defaultProps = {\n    initialPage: 1,\n    pageSize: 10\n}\n\n\nclass CategoryProduct extends Component{\n    constructor (props) {\n        super(props);\n        this.state = {\n            pager: {},\n            getProductList: [],\n            getSubCategoryList: [],\n            slugValue: '',\n            subCategoryId :'',\n            sortby:\"\",\n            min_price:\"\",\n            max_price:\"\",         \n        }\n        \n        let slug = this.props.match.params.slug;\n        this.getFilterCategoryProductList=this.getFilterCategoryProductList.bind(this);\n        this.getSortedData = this.getSortedData.bind(this);\n        this.getSortedPriceRangeData = this.getSortedPriceRangeData.bind(this);\n        \n        axios.get(Environment.apiurl+'/product/'+slug)\n        .then(result => {\n            if(result){\n                // console.log(result);\n                this.setState({getProductList: result.data.response});\n                this.setState({slugValue: this.props.match.params.slug});\n                \n            }\n        });\n        \n\n        axios.get(Environment.apiurl+'/getAllSubCategoryList/'+slug)\n        .then(result => {\n            if(result){\n                // console.log(result.data);\n                this.setState({getSubCategoryList: result.data.response});\n            }\n        });\n    }\n\n    getFilterCategoryProductList(param) {\n        this.setState({slug: this.state.slugValue});\n        this.setState({subCategoryId: param});\n        var filterData =\n        {\n            \"slug\":this.state.slugValue,\n            \"subCategoryId\":param,\n            \"sortby\":this.state.sortby,\n            \"min_price\":this.state.min_price,\n            \"max_price\":this.state.max_price,\n        };\n       \n        axios.post(Environment.apiurl+\"/getFilterCategoryProductList\", filterData).then(result => {\n            if(result.data.status==\"true\"){\n                this.setState({getProductList: result.data.response});\n            }else{\n                this.setState({getProductList:[]});\n                console.log(\"get error from data\");\n            }\n        });\n    }\n\n\n    getSortedData(e) {\n        this.setState({sortby: e.target.value});\n        var filterData =\n        {\n            \"sortby\":e.target.value,\n            \"slug\":this.state.slugValue,\n            \"subCategoryId\":this.state.subCategoryId,\n            \"min_price\":this.state.min_price,\n            \"max_price\":this.state.max_price,\n            // \"pageNumber\":1\n        };\n        axios.post(Environment.apiurl+\"/getFilterCategoryProductList\",filterData).then(result => {\n            if(result.data.status==\"true\"){\n                this.setState({getProductList: result.data.response});\n            }else{\n                this.setState({getProductList:[]});\n                console.log(\"get error from data\");\n            }\n        });\n    }\n\n\n    getSortedPriceRangeData(e){\n        this.setState({min_price:document.getElementById(\"min_price\").value});\n        this.setState({max_price:document.getElementById(\"max_price\").value});\n        var filterData =\n        {\n            \"sortby\":this.state.sortby,\n            \"slug\":this.state.slugValue,\n            \"subCategoryId\":this.state.subCategoryId,\n            \"min_price\":document.getElementById(\"min_price\").value,\n            \"max_price\":document.getElementById(\"max_price\").value,\n            // \"pageNumber\":1\n        };\n        // console.log(filterData);\n        axios.post(Environment.apiurl+\"/getFilterCategoryProductList\", filterData).then(result => {\n            if(result.data.status==\"true\"){\n                this.setState({getProductList: result.data.response});\n            }else{\n                this.setState({getProductList:[]});\n                console.log(\"get error from data\");\n            }\n        });\n    }\n\n\n\n    componentWillMount() {\n        // set page if items array isn't empty\n        if (this.props.items && this.props.items.length) {\n            this.setPage(this.props.initialPage);\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        // reset page if items array has changed\n        if (this.props.items !== prevProps.items) {\n            this.setPage(this.props.initialPage);\n        }\n    }\n\n\n    setPage(page) {\n        var { items, pageSize } = this.props;\n        var pager = this.state.pager;\n\n        if (page < 1 || page > pager.totalPages) {\n            return;\n        }\n\n        // get new pager object for specified page\n        pager = this.getPager(items.length, page, pageSize);\n\n        // get new page of items from items array\n        var pageOfItems = items.slice(pager.startIndex, pager.endIndex + 1);\n\n        // update state\n        this.setState({ pager: pager });\n\n        // call change page function in parent component\n        this.props.onChangePage(pageOfItems);\n    }\n\n    getPager(totalItems, currentPage, pageSize) {\n        // default to first page\n        currentPage = currentPage || 1;\n\n        // default page size is 10\n        pageSize = pageSize || 10;\n\n        // calculate total pages\n        var totalPages = Math.ceil(totalItems / pageSize);\n\n        var startPage, endPage;\n        if (totalPages <= 10) {\n            // less than 10 total pages so show all\n            startPage = 1;\n            endPage = totalPages;\n        } else {\n            // more than 10 total pages so calculate start and end pages\n            if (currentPage <= 6) {\n                startPage = 1;\n                endPage = 10;\n            } else if (currentPage + 4 >= totalPages) {\n                startPage = totalPages - 9;\n                endPage = totalPages;\n            } else {\n                startPage = currentPage - 5;\n                endPage = currentPage + 4;\n            }\n        }\n        // calculate start and end item indexes\n        var startIndex = (currentPage - 1) * pageSize;\n        var endIndex = Math.min(startIndex + pageSize - 1, totalItems - 1);\n\n        // create an array of pages to ng-repeat in the pager control\n        var pages = [...Array((endPage + 1) - startPage).keys()].map(i => startPage + i);\n\n        // return object with all pager properties required by the view\n        return {\n            totalItems: totalItems,\n            currentPage: currentPage,\n            pageSize: pageSize,\n            totalPages: totalPages,\n            startPage: startPage,\n            endPage: endPage,\n            startIndex: startIndex,\n            endIndex: endIndex,\n            pages: pages\n        };\n    }\n    \n\n    render() {\n        var pager = this.state.pager;\n        return (\n            <div>\n                <Header />\n                <section class=\"pageBanner\">\n                    <figure><img src={Environment.apiurl+\"/images/page-banner.jpg\"} class=\"img-fluid\" /></figure>\n                    <div class=\"overLay_1\">\n                        <div class=\"container\">\n                            <div class=\"row\">\n                                <div class=\"col-sm-12 text-center\">\n                                    <h1>Shop</h1>\n                                    <ol class=\"breadcrumb\">\n                                        <li><a href={Environment.weburl}>Home</a></li>\n                                        <li class=\"active\">Shop</li>\n                                    </ol>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n\n                <section class=\"listing\">\n                    <div class=\"container\">\n                        <div class=\"row\">\n\n                        <div class=\"col-md-4 col-lg-3\">\n                        <button class=\"open-mypage2\">Categories</button>\n                            <div id=\"mypage-info2\" class=\"slideForm\"> \n                                <a href=\"#\" class=\"up\"><i class=\"fa fa-chevron-up\" aria-hidden=\"true\"></i></a>\n                                <div class=\"scrollBar\" data-simplebar>\n                                    <div class=\"bs-example\">\n                                    <h3 class=\"shopTitle\">Shop by category</h3>\n                                        <div class=\"accordion\" id=\"accordionExample\">\n                                            <div class=\"card\">\n                                                <ul class=\"subMenu\">\n                                                    <If condition={this.state.getSubCategoryList.length > 0}>\n                                                        <Then>\n                                                        {this.state.getSubCategoryList.map((item, index) =>\n                                                            <li><a href=\"javaScript:void(0);\" onClick={(e) => this.getFilterCategoryProductList(item.id)}><i class=\"fas fa-chevron-right\"></i>{ item.sub_category_name }</a></li>\n                                                        )}\n                                                        </Then>\n                                                    </If>\n                                                </ul>\n                                            </div>                                           \n                                        </div>\n                                    </div>\n\n                                    <div class=\"priceFilter\">\n                                    <h3 class=\"shopTitle\">Filter by price</h3>\n                                        <div class=\"filterimg\">\n                                            <div id=\"slider-range\" class=\"price-filter-range\" name=\"rangeInput\">\n                                            </div>\n                                            <div class=\"priceValue\">\n                                            <p>\n                                                <button onClick={this.getSortedPriceRangeData}>Filter</button>\n                                            </p>\n                                            <h3>Price:</h3>\n                                            <input type=\"\" min=\"0\" max=\"9900\" oninput=\"validity.valid||(value='1');\" id=\"min_price\" class=\"price-range-field\" />\n                                            -\n                                            <input type=\"\" min=\"0\" max=\"10000\" oninput=\"validity.valid||(value='10000');\" id=\"max_price\" class=\"price-range-field\" />\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                </div>\n                            </div>\n                        </div>\n\n\n                        <div class=\"col-md-8 col-lg-9\">\n                            <div class=\"showMore\">\n                                {/* <h3>Showing 1â€“12 of 16 results</h3> */}\n                                <div class=\"sortBy\">\n                                    <select onChange={this.getSortedData} value={this.state.sortby} id=\"sorting\" name=\"sorting\" >\n                                    <option value=\"\" >Sort by</option>\n                                    <option value=\"1\" >New</option>\n                                    <option value=\"2\" >Price:Low-High </option>\n                                    <option value=\"3\" >Price:High-Low </option>\n                                    <option value=\"4\" >Most Popular </option>\n                                    </select>\n                                </div>\n                            </div>\n                            <div class=\"clear\"></div>\n\n                                <div class=\"products\">\n                                    <div class=\"row\">\n                                        <If condition={this.state.getProductList.length > 0}>\n                                            <Then>\n                                                {this.state.getProductList.map((item, index) => \n                                                <div class=\"col-6 col-md-6 col-lg-4\">\n                                                    <div class=\"itemBox\">\n                                                        <figure>\n                                                            <a href={Environment.weburl+\"/product/details/\"+item.id}><img src={Environment.apiurl+'/products/'+item.image} class=\"img-fluid\" /></a>\n                                                        </figure>\n                                                        <div class=\"addCart\"> \n                                                            <a href=\"#\" class=\"wishList\"><i class=\"fas fa-heart\"></i></a>\n                                                            <button>Add to cart</button>\n                                                            <a href=\"#\" class=\"comPare\"><i class=\"fas fa-info-circle\"></i></a> \n                                                        </div>\n                                                        <h3>\n                                                            <a href={Environment.weburl+\"/product/details/\"+item.id}>{item.product_name}</a>\n                                                        </h3>\n                                                        <div class=\"prPrice\">${item.price}</div>\n                                                    </div>\n                                                </div>\n                                                )}\n                                            </Then>\n                                        </If>\n                                    </div>\n                                </div>\n\n                                {/* <div class=\"paginate\">\n                                    <ul class=\"pagination\">\n                                    <li><a href=\"#\" class=\" \"><i class=\"fas fa-long-arrow-alt-left\"></i></a></li>\n                                    <li class=\"active \"><span>1</span></li>\n                                    <li><a href=\"#\" class=\" \">2</a></li>\n                                    <li><a href=\"#\" class=\" \">3</a></li>\n                                    <li><a href=\"#\" class=\" \"><i class=\"fas fa-long-arrow-alt-right\"></i></a></li>\n                                    </ul>\n                                    <div class=\"clearfix\"></div>\n                                </div> */}\n                                \n                                <ul className=\"pagination\">\n                                    <li className={pager.currentPage === 1 ? 'disabled' : ''}>\n                                        <a onClick={() => this.setPage(1)}>First</a>\n                                    </li>\n                                    <li className={pager.currentPage === 1 ? 'disabled' : ''}>\n                                        <a onClick={() => this.setPage(pager.currentPage - 1)}>Previous</a>\n                                    </li>\n                                    {pager.pages.map((page, index) =>\n                                        <li key={index} className={pager.currentPage === page ? 'active' : ''}>\n                                            <a onClick={() => this.setPage(page)}>{page}</a>\n                                        </li>\n                                    )}\n                                    <li className={pager.currentPage === pager.totalPages ? 'disabled' : ''}>\n                                        <a onClick={() => this.setPage(pager.currentPage + 1)}>Next</a>\n                                    </li>\n                                    <li className={pager.currentPage === pager.totalPages ? 'disabled' : ''}>\n                                        <a onClick={() => this.setPage(pager.totalPages)}>Last</a>\n                                    </li>\n                                </ul>\n\n\n\n\n\n                                <div class=\"clear\"></div>\n                            </div>\n\n\n                        </div>\n                    </div>\n                </section>\n                <Footer />\n            </div>\n        )\n    }    \n\n}\n\nPagination.propTypes = propTypes;\nPagination.defaultProps = defaultProps;\n\nexport default CategoryProduct;"]},"metadata":{},"sourceType":"module"}