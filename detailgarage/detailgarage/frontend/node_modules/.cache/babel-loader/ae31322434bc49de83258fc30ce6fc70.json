{"ast":null,"code":"var _jsxFileName = \"/var/www/html/htdoc/detailgarage/frontend/src/components/user/wishlist.js\";\nimport React, { Component } from 'react';\nimport { Environment } from '../../../src/components/environment';\nimport axios from 'axios';\nimport { If, Then, Else, Switch, Case } from 'react-if';\nimport Header from '../../../src/layouts/header';\nimport UserLeftMenu from '../../../src/layouts/user_left_menu';\nimport Footer from '../../../src/layouts/footer';\nimport Alert from 'react-s-alert';\n\nclass Wishlist extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user_id_send: '',\n      wishlistProduct: [],\n      page: 0,\n      hasMore: true,\n      incpage: 1,\n      pageNumber: 1,\n      propertyslugvalue: \"\",\n      lastitem: 1\n    };\n    var user_id_send = localStorage.getItem(\"user_id\") ? localStorage.getItem(\"user_id\") : \"\";\n    var pagenumber = this.state.pageNumber;\n    this.fetchMoreData = this.fetchMoreData.bind(this);\n    axios.post(Environment.apiurl + '/getUserWishlistProduct', {\n      user_id: user_id_send,\n      pagenumber: pagenumber\n    }).then(result => {\n      if (result) {\n        this.setState({\n          user_id_send: user_id_send\n        });\n        this.setState({\n          wishlistProduct: result.data.response\n        });\n      }\n    });\n  }\n\n  deleteWishlistItem(param) {\n    var wishlistItem = {\n      \"id\": param,\n      \"user_id\": this.state.user_id_send\n    };\n    axios.post(Environment.apiurl + \"/deleteWishlistItem\", wishlistItem).then(result => {\n      // console.log(result.data);\n      if (result.data.status == \"success\") {\n        document.getElementById(\"wishlist_\" + param).remove();\n        this.setState({\n          sucessMsg: result.data.message\n        });\n        localStorage.setItem(\"sucessMsg\", result.data.message);\n      } else if (result.data.status == \"deleted\") {\n        document.getElementById(\"wishlist_\" + param).remove();\n        this.setState({\n          sucessMsg: result.data.message\n        });\n        localStorage.setItem(\"sucessMsg\", result.data.message);\n        setTimeout(function () {\n          window.location.reload(1);\n        }, 1000);\n      } else {\n        this.setState({\n          sucessMsg3: result.data.message\n        });\n        localStorage.setItem(\"sucessMsg\", result.data.message);\n      } // setTimeout(function () {\n      //     window.location.reload(1);\n      // }, 1000);\n\n    });\n  }\n\n  fetchMoreData(e) {\n    var newpage = this.state.incpage + 1;\n    var user_id_send = this.state.user_id_send;\n    setImmediate(function () {\n      document.getElementById(\"loadingimg\").style.display = \"block\";\n    }.bind(this), 2000);\n    axios.post(Environment.apiurl + '/getUserWishlistProduct', {\n      user_id: user_id_send,\n      pagenumber: newpage\n    }).then(result => {\n      if (result) {\n        setImmediate(function () {\n          document.getElementById(\"loadingimg\").style.display = \"none\";\n        }.bind(this), 2000); // console.log(result);\n\n        this.setState({\n          user_id_send: user_id_send\n        });\n        this.setState({\n          wishlistProduct: result.data.response\n        });\n        this.setState({\n          incpage: newpage\n        });\n\n        if (result.data.response.length % 9 > 0) {\n          this.setState({\n            hasMore: false\n          });\n          this.setState({\n            lastitem: 0\n          });\n        }\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"section\", {\n      class: \"dashBoard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(UserLeftMenu, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"aside\", {\n      class: \"col-lg-9 col-sm-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"dashRight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      class: \"breadcrumb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"My Profile\")), React.createElement(\"li\", {\n      class: \"active\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"My Wishlist\")), React.createElement(If, {\n      condition: this.state.sucessMsg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(Then, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"alert alert-success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, this.state.sucessMsg))), React.createElement(If, {\n      condition: this.state.errorMsg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(Then, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, this.state.errorMsg))), React.createElement(\"div\", {\n      class: \"table-responsive\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      class: \"orderList\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(If, {\n      condition: this.state.wishlistProduct.length > 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(Then, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, this.state.wishlistProduct.map((item, index) => React.createElement(\"li\", {\n      id: 'wishlist_' + item.w_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"orderTable\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"table-responsive\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      class: \"ordProdImg\",\n      href: Environment.weburl + \"/product/details/\" + item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: Environment.apiurl + '/products/' + item.image,\n      class: \"img-fluid\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }))), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: Environment.weburl + \"/product/details/\" + item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, item.product_name)), React.createElement(\"td\", {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"$\", item.price.toFixed(2)), React.createElement(\"td\", {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"javascript:void(0);\",\n      onClick: e => window.confirm(\"Are you sure you wish to delete this item?\") && this.deleteWishlistItem(item.w_id),\n      class: \"remove\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fas fa-trash-alt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }))))))))), React.createElement(\"div\", {\n      class: \"text-center clearfix\",\n      style: {\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"loadingimg\",\n      style: {\n        display: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: Environment.apiurl + '/loading.gif',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    })), React.createElement(If, {\n      condition: this.state.lastitem,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(Then, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.fetchMoreData,\n      type: \"button\",\n      className: \"load-more\",\n      data: this.state.lastitem,\n      sadas: \"sdsss\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"Load more\"))))), React.createElement(Else, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Record not found!!\")))))))), React.createElement(Alert, {\n      stack: true,\n      timeout: 3000,\n      position: \"bottom-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Wishlist;","map":{"version":3,"sources":["/var/www/html/htdoc/detailgarage/frontend/src/components/user/wishlist.js"],"names":["React","Component","Environment","axios","If","Then","Else","Switch","Case","Header","UserLeftMenu","Footer","Alert","Wishlist","constructor","props","state","user_id_send","wishlistProduct","page","hasMore","incpage","pageNumber","propertyslugvalue","lastitem","localStorage","getItem","pagenumber","fetchMoreData","bind","post","apiurl","user_id","then","result","setState","data","response","deleteWishlistItem","param","wishlistItem","status","document","getElementById","remove","sucessMsg","message","setItem","setTimeout","window","location","reload","sucessMsg3","e","newpage","setImmediate","style","display","length","render","errorMsg","map","item","index","w_id","weburl","id","image","product_name","price","toFixed","confirm","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Environment } from '../../../src/components/environment';\nimport axios from 'axios';\nimport { If, Then, Else, Switch, Case} from 'react-if';\nimport Header from '../../../src/layouts/header';\nimport UserLeftMenu from '../../../src/layouts/user_left_menu';\nimport Footer from '../../../src/layouts/footer';\nimport Alert from 'react-s-alert';\n\n\nclass Wishlist extends Component{\n    constructor (props) {\n        super(props);\n        this.state = {\n            user_id_send :'',\n            wishlistProduct: [],\n            page: 0,\n            hasMore: true,\n            incpage: 1,\n            pageNumber: 1,\n            propertyslugvalue: \"\",\n            lastitem: 1,\n        }\n\n        var user_id_send = localStorage.getItem(\"user_id\")?localStorage.getItem(\"user_id\"):\"\";\n\n        var pagenumber = this.state.pageNumber\n        this.fetchMoreData = this.fetchMoreData.bind(this);\n\n        axios.post(Environment.apiurl+'/getUserWishlistProduct', {user_id:user_id_send, pagenumber: pagenumber})\n        .then(result => {\n            if(result){\n                this.setState({user_id_send:user_id_send});\n                this.setState({wishlistProduct: result.data.response});\n            }\n        });\n    }\n\n    deleteWishlistItem(param){\n        var wishlistItem =\n        {\n            \"id\":param,\n            \"user_id\":this.state.user_id_send,\n        };\n\n        axios.post(Environment.apiurl+\"/deleteWishlistItem\", wishlistItem).then(result => {\n            // console.log(result.data);\n            if(result.data.status==\"success\"){\n                document.getElementById(\"wishlist_\"+param).remove();\n                this.setState({sucessMsg: result.data.message});\n                localStorage.setItem(\"sucessMsg\", result.data.message);\n            } else if(result.data.status==\"deleted\"){\n                document.getElementById(\"wishlist_\"+param).remove();\n                this.setState({sucessMsg: result.data.message});\n                localStorage.setItem(\"sucessMsg\", result.data.message);\n                setTimeout(function () {\n                    window.location.reload(1);\n                }, 1000);\n            } else {\n                this.setState({sucessMsg3: result.data.message});\n                localStorage.setItem(\"sucessMsg\", result.data.message);\n            }\n            // setTimeout(function () {\n            //     window.location.reload(1);\n            // }, 1000);\n        });\n    }\n\n\n    fetchMoreData(e) {\n        var newpage = this.state.incpage + 1;\n        var user_id_send = this.state.user_id_send;\n        \n        setImmediate(function() {\n            document.getElementById(\"loadingimg\").style.display = \"block\";\n            }.bind(this),2000\n        );\n\n        axios.post(Environment.apiurl+'/getUserWishlistProduct', {user_id:user_id_send, pagenumber: newpage})\n        .then(result => {\n            if (result) {\n                setImmediate(function() {\n                    document.getElementById(\"loadingimg\").style.display = \"none\";\n                    }.bind(this),2000\n                );\n                // console.log(result);\n                this.setState({user_id_send:user_id_send});\n                this.setState({wishlistProduct: result.data.response});\n\n                this.setState({ incpage: newpage });\n                if (result.data.response.length % 9 > 0) {\n                    this.setState({ hasMore: false });\n                    this.setState({ lastitem: 0 });\n                }\n            }\n        });\n    }\n\n\n    render() {\n        return (\n            <div>\n                <Header />\n                <section class=\"dashBoard\">\n                    <div class=\"container-fluid\">\n                        <div class=\"row\">\n                            \n                            <UserLeftMenu />\n\n                            <aside class=\"col-lg-9 col-sm-8\">\n                                <div class=\"dashRight\">\n                                    <ul class=\"breadcrumb\">\n                                        <li><a href=\"#\">My Profile</a></li>\n                                        <li class=\"active\">My Wishlist</li>\n                                    </ul>\n\n                                    <If condition={this.state.sucessMsg}>\n                                        <Then>\n                                            <div className=\"alert alert-success\">{this.state.sucessMsg}</div>\n                                        </Then>\n                                    </If>\n\n                                    <If condition={this.state.errorMsg}>     \n                                        <Then>\n                                            <div className=\"alert alert-danger\">{this.state.errorMsg}</div>\n                                        </Then>\n                                    </If>\n\n                                    <div class=\"table-responsive\">\n                                        <ul class=\"orderList\">\n                                        <If condition={this.state.wishlistProduct.length>0}>\n                                        <Then>\n                                        {this.state.wishlistProduct.map( (item, index) =>\n                                            <li id={'wishlist_'+item.w_id}>                                    \n                                                <div class=\"orderTable\">\n                                                    <div class=\"table-responsive\">\n                                                        <table>\n                                                            <tr>\n                                                                <td><a class=\"ordProdImg\" href={Environment.weburl+\"/product/details/\"+item.id}><img src={Environment.apiurl+'/products/'+item.image} class=\"img-fluid\" alt=\"\" /></a></td>\n                                                                <td><a href={Environment.weburl+\"/product/details/\"+item.id}>{item.product_name}</a></td>\n                                                                <td align=\"center\">${item.price.toFixed(2)}</td>\n                                                                <td align=\"center\"><a href=\"javascript:void(0);\" onClick={e => window.confirm(\"Are you sure you wish to delete this item?\") && this.deleteWishlistItem(item.w_id) }class=\"remove\"><i class=\"fas fa-trash-alt\"></i></a></td>\n                                                            </tr>\n                                                        </table>\n                                                    </div>\n                                                </div>\n                                            </li>\n                                        )}\n\n                                        <div class=\"text-center clearfix\" style={{width:\"100%\"}}>\n                                            <div id=\"loadingimg\" style={{display:\"none\"}}><img src={Environment.apiurl+'/loading.gif'}/></div>\n                                                <If condition={this.state.lastitem}>\n                                                    <Then>\n                                                        <button onClick={this.fetchMoreData} type=\"button\" className=\"load-more\" data={this.state.lastitem} sadas=\"sdsss\">Load more</button>\n                                                    </Then>\n                                                </If>\n                                        </div>\n                                        </Then>\n                                        <Else>\n                                            {/* <li>\n                                                <img src={Environment.apiurl+\"/images/no-data-found-images.png\"} />\n                                            </li> */}\n                                            <div className=\"alert alert-danger\">Record not found!!</div>\n                                        </Else>\n                                        </If>\n                                        \n                                        </ul>\n                                    </div>\n                                </div>\n                            </aside>\n                        </div>\n                        <Alert stack={true} timeout={3000} position='bottom-right' />\n                    </div>\n                </section>\n                <Footer />\n            </div>\n        )\n    }    \n\n}\n\nexport default Wishlist;"]},"metadata":{},"sourceType":"module"}